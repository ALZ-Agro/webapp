<md-content flex layout class="admin-notifications">
    <md-tabs flex md-stretch-tabs="always" md-selected="vm.currentTab">
        <md-tab>
            <md-tab-label>
                <div ng-click="vm.markAllAsReaded()">
                    <md-icon md-font-icon="fa fa-bell-o"></md-icon>
                    Marcar todas como leídas
                    <!--<md-tooltip md-position="bottom"></md-tooltip>-->
                </div>
            </md-tab-label>
            <md-tab-body>
                <md-content>
                    
                <!--<div ng-if="!isIE()">
                    <md-switch aria-label="toogle-notifications" class="notifications" ng-change="vm.switchNotifications()" ng-model="currentUser.showNotifications">
                        <md-icon ng-show="currentUser.showNotifications" md-font-icon="zmdi zmdi-notifications-active"></md-icon>
                        <md-icon ng-show="!currentUser.showNotifications" md-font-icon="zmdi zmdi-notifications-off"></md-icon>
                        {{currentUser.showNotifications?'Desactivar notificaciones':'Activar notificaciones'}}
                    </md-switch>
                </div>-->

                    <md-list>
                        <div ng-repeat="group in vm.notificationGroups">
                            <md-subheader class="md-primary" ng-if="group.name">{{group.name}}</md-subheader>
                            <md-list-item ng-repeat="notification in group.notifications" layout="row" layout-align="space-between center" ng-class="{'unread': !notification.read}" ng-click="vm.onNotificationClick(notification,$parent.$index,$event)">
                                <md-icon class="{{::notification.icon}}"
                                         ng-style="{ color: notification.iconColor }"
                                         style="margin-left:0px; margin-right:10px"></md-icon>
                                <div>
                                    <div class="text-center">
                                        <span class="md-caption notification-date-info">
                                            {{notification.date | date:'dd-MM-yyyy HH:mm'}}
                                        </span>
                                    </div>
                                    <p class="notification-title" style="margin-top:0px">{{notification.title}}</p>
                                    <p class="notification-title" style="margin-top:0px">Nota: {{notification.message}}</p>
                                </div>
                            </md-list-item>
                            <md-list-item ng-if="vm.notificationGroups[0].notifications.length==0"
                                          layout="row" layout-align="space-between center">
                                <div style="margin:0 auto!important;width:100%;">
                                    <p>No hay notificaciones para mostrar.</p>
                                </div>
                            </md-list-item>
                            <md-list-item ng-if="group.notifications.length < group.totalItems" ng-click="vm.nextPage()" layout="row" layout-align="space-between center">
                                <div style="margin:0 auto!important;">
                                    <span class="md-caption textLink">
                                        <b>Cargar m&aacute;s</b>
                                    </span>
                                </div>
                            </md-list-item>
                            <md-list-item ng-if="group.notifications.length == group.totalItems && vm.notificationGroups[0].notifications.length!=0" layout="row" layout-align="space-between center">
                                <div style="margin:0 auto!important;">
                                    <span class="md-caption textLink">
                                        <b>No hay más notificaciones para cargar.</b>
                                    </span>
                                </div>
                            </md-list-item>
                        </div>
                    </md-list>
                </md-content>
            </md-tab-body>
            </md-tab>
        <!--</md-tabs>-->
</md-content>
