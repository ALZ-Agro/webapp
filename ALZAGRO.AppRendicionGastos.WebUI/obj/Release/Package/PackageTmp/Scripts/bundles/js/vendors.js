!function(e,r){"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof exports?module.exports=r():r()}(0,function(){function e(e,r){"use strict";return function(i){if(!i||!(angular.isArray(i.files)||angular.isString(i.prefix)&&angular.isString(i.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");i.files||(i.files=[{prefix:i.prefix,suffix:i.suffix}]);for(var t=[],f=i.files.length,n=0;n<f;n++)t.push(function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var f=[t.prefix,i.key,t.suffix].join("");return angular.isObject(i.fileMap)&&i.fileMap[f]&&(f=i.fileMap[f]),r(angular.extend({url:f,method:"GET",params:""},i.$http)).then(function(e){return e.data},function(){return e.reject(i.key)})}({prefix:i.files[n].prefix,key:i.key,suffix:i.files[n].suffix}));return e.all(t).then(function(e){for(var r=e.length,i={},t=0;t<r;t++)for(var f in e[t])i[f]=e[t][f];return i})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"});
!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var n=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(n,a,t,r,i){function c(){t.cancel(d),i.complete(),s=0,l=0}function o(n){var t,r=a.get("$http"),i=e.defaults;!n.cache&&!i.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(t=angular.isObject(n.cache)?n.cache:angular.isObject(i.cache)?i.cache:r);var c=void 0!==t&&void 0!==t.get(n.url);return void 0!==n.cached&&c!==n.cached?n.cached:(n.cached=c,c)}var d,l=0,s=0,u=i.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||o(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(d=t(function(){i.start()},u)),l++,i.set(s/l)),e},response:function(e){return e.config.ignoreLoadingBar||o(e.config)||(s++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),s>=l?c():i.set(s/l)),e},responseError:function(e){return e.config.ignoreLoadingBar||o(e.config)||(s++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),s>=l?c():i.set(s/l)),n.reject(e)}}}];e.interceptors.push(n)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!1,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,n,a,t){function r(){s||(s=e.get("$animate"));var r=n.find(g).eq(0);a.cancel(h),m||(t.$broadcast("cfpLoadingBar:started"),m=!0,S&&s.enter(f,r),$&&s.enter(v,r),i(b))}function i(e){if(m){var n=100*e+"%";p.css("width",n),B=e,a.cancel(u),u=a(function(){c()},250)}}function c(){if(!(o()>=1)){var e=0,n=o();e=n>=0&&n<.25?(3*Math.random()+3)/100:n>=.25&&n<.65?3*Math.random()/100:n>=.65&&n<.9?2*Math.random()/100:n>=.9&&n<.99?.005:0;i(o()+e)}}function o(){return B}function d(){B=0,m=!1}function l(){s||(s=e.get("$animate")),t.$broadcast("cfpLoadingBar:completed"),i(1),a.cancel(h),h=a(function(){var e=s.leave(f,d);e&&e.then&&e.then(d),s.leave(v)},500)}var s,u,h,g=this.parentSelector,f=angular.element(this.loadingBarTemplate),p=f.find("div").eq(0),v=angular.element(this.spinnerTemplate),m=!1,B=0,$=this.includeSpinner,S=this.includeBar,b=this.startSize;return{start:r,set:i,status:o,inc:c,complete:l,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();
!function(t,e){"use strict";t.module("smart-table",[]).run(["$templateCache",function(t){t.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="javascript: void(0);" ng-click="selectPage(page)">{{page}}</a></li></ul></nav>')}]),t.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),t.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(e,a,n,s){function i(t){return t?[].concat(t):[]}function r(){h=i(c(e)),!0===v&&P.pipe()}function l(t,e){if(-1!=e.indexOf(".")){var n=e.split("."),s=n.pop(),i=n.join("."),r=a(i)(t);delete r[s],0==Object.keys(r).length&&l(t,i)}else delete t[e]}var c,o,u,p=s.stTable,g=a(p),d=g.assign,f=n("orderBy"),m=n("filter"),h=i(g(e)),b={sort:{},search:{},pagination:{start:0,totalItemCount:0}},v=!0,P=this;s.stSafeSrc&&(c=a(s.stSafeSrc),e.$watch(function(){var t=c(e);return t&&t.length?t[0]:void 0},function(t,e){t!==e&&r()}),e.$watch(function(){var t=c(e);return t?t.length:0},function(t,e){t!==h.length&&r()}),e.$watch(function(){return c(e)},function(t,e){t!==e&&(b.pagination.start=0,r())})),this.sortBy=function(e,a){return b.sort.predicate=e,b.sort.reverse=!0===a,t.isFunction(e)?b.sort.functionName=e.name:delete b.sort.functionName,b.pagination.start=0,this.pipe()},this.search=function(e,n){var s=b.search.predicateObject||{},i=n||"$";return e=t.isString(e)?e.trim():e,a(i).assign(s,e),e||l(s,i),b.search.predicateObject=s,b.pagination.start=0,this.pipe()},this.pipe=function(){var t,a=b.pagination;o=b.search.predicateObject?m(h,b.search.predicateObject):h,b.sort.predicate&&(o=f(o,b.sort.predicate,b.sort.reverse)),a.totalItemCount=o.length,void 0!==a.number&&(a.numberOfPages=o.length>0?Math.ceil(o.length/a.number):1,a.start=a.start>=o.length?(a.numberOfPages-1)*a.number:a.start,t=o.slice(a.start,a.start+parseInt(a.number))),d(e,t||o)},this.select=function(t,a){var n=i(g(e)),s=n.indexOf(t);-1!==s&&("single"===a?(t.isSelected=!0!==t.isSelected,u&&(u.isSelected=!1),u=!0===t.isSelected?t:void 0):n[s].isSelected=!n[s].isSelected)},this.slice=function(t,e){return b.pagination.start=t,b.pagination.number=e,this.pipe()},this.tableState=function(){return b},this.getFilteredCollection=function(){return o||h},this.setFilterFunction=function(t){m=n(t)},this.setSortFunction=function(t){f=n(t)},this.preventPipeOnWatch=function(){v=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(t,e,a,n){a.stSetFilter&&n.setFilterFunction(a.stSetFilter),a.stSetSort&&n.setSortFunction(a.stSetSort)}}}),t.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(t,e,a){return{require:"^stTable",link:function(n,s,i,r){var l=r,c=null,o=i.stDelay||t.search.delay,u=i.stInputEvent||t.search.inputEvent;i.$observe("stSearch",function(t,e){var a=s[0].value;t!==e&&a&&(r.tableState().search={},l.search(a,t))}),n.$watch(function(){return r.tableState().search},function(t,e){var n=i.stSearch||"$";t.predicateObject&&a(n)(t.predicateObject)!==s[0].value&&(s[0].value=a(n)(t.predicateObject)||"")},!0),s.bind(u,function(t){t=t.originalEvent||t,null!==c&&e.cancel(c),c=e(function(){l.search(t.target.value,i.stSearch||""),c=null},o)})}}}]),t.module("smart-table").directive("stSelectRow",["stConfig",function(t){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(e,a,n,s){var i=n.stSelectMode||t.select.mode;a.bind("click",function(){e.$apply(function(){s.select(e.row,i)})}),e.$watch("row.isSelected",function(e){!0===e?a.addClass(t.select.selectedClass):a.removeClass(t.select.selectedClass)})}}}]),t.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(e,a,n){return{restrict:"A",require:"^stTable",link:function(s,i,r,l){function c(){b?g=0===g?2:g-1:g++;var e;u=t.isFunction(p(s))||t.isArray(p(s))?p(s):r.stSort,g%3==0&&!0!=!!h?(g=0,l.tableState().sort={},l.tableState().pagination.start=0,e=l.pipe.bind(l)):e=l.sortBy.bind(l,u,g%2==0),null!==v&&n.cancel(v),P<0?e():v=n(e,P)}var o,u=r.stSort,p=a(u),g=0,d=r.stClassAscent||e.sort.ascentClass,f=r.stClassDescent||e.sort.descentClass,m=[d,f],h=void 0!==r.stSkipNatural?r.stSkipNatural:e.sort.skipNatural,b=void 0!==r.stDescendingFirst?r.stDescendingFirst:e.sort.descendingFirst,v=null,P=r.stDelay||e.sort.delay;r.stSortDefault&&(o=void 0!==s.$eval(r.stSortDefault)?s.$eval(r.stSortDefault):r.stSortDefault),i.bind("click",function(){u&&s.$apply(c)}),o&&(g="reverse"===o?1:0,c()),s.$watch(function(){return l.tableState().sort},function(t){t.predicate!==u?(g=0,i.removeClass(d).removeClass(f)):(g=!0===t.reverse?2:1,i.removeClass(m[g%2]).addClass(m[g-1]))},!0)}}}]),t.module("smart-table").directive("stPagination",["stConfig",function(t){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(e,a){return a.stTemplate?a.stTemplate:t.pagination.template},link:function(e,a,n,s){function i(){var t,a,n=s.tableState().pagination,i=1,r=e.currentPage;for(e.totalItemCount=n.totalItemCount,e.currentPage=Math.floor(n.start/n.number)+1,i=Math.max(i,e.currentPage-Math.abs(Math.floor(e.stDisplayedPages/2))),t=i+e.stDisplayedPages,t>n.numberOfPages&&(t=n.numberOfPages+1,i=Math.max(1,t-e.stDisplayedPages)),e.pages=[],e.numPages=n.numberOfPages,a=i;a<t;a++)e.pages.push(a);r!==e.currentPage&&e.stPageChange({newPage:e.currentPage})}e.stItemsByPage=e.stItemsByPage?+e.stItemsByPage:t.pagination.itemsByPage,e.stDisplayedPages=e.stDisplayedPages?+e.stDisplayedPages:t.pagination.displayedPages,e.currentPage=1,e.pages=[],e.$watch(function(){return s.tableState().pagination},i,!0),e.$watch("stItemsByPage",function(t,a){t!==a&&e.selectPage(1)}),e.$watch("stDisplayedPages",i),e.selectPage=function(t){t>0&&t<=e.numPages&&s.slice((t-1)*e.stItemsByPage,e.stItemsByPage)},s.tableState().pagination.number||s.slice(0,e.stItemsByPage)}}}]),t.module("smart-table").directive("stPipe",["stConfig","$timeout",function(e,a){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(n,s,i,r){var l=null;t.isFunction(n.stPipe)&&(r.preventPipeOnWatch(),r.pipe=function(){return null!==l&&a.cancel(l),l=a(function(){n.stPipe(r.tableState(),r)},e.pipe.delay)})},post:function(t,e,a,n){n.pipe()}}}}])}(angular);
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){K=t}function r(t){W=t}function o(){return function(){D(s)}}function i(){return function(){setTimeout(s,1)}}function s(){for(var t=0;U>t;t+=2){(0,J[t])(J[t+1]),J[t]=void 0,J[t+1]=void 0}U=0}function u(t,e){var n=this,r=n._state;if(r===X&&!t||r===Z&&!e)return this;var o=new this.constructor(a),i=n._result;if(r){var s=arguments[r-1];W(function(){j(r,o,s,i)})}else g(n,o,t,e);return o}function c(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(a);return y(n,t),n}function a(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(t){return $.error=t,$}}function p(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function _(t,e,n){W(function(t){var r=!1,o=p(n,e,function(n){r||(r=!0,e!==n?y(t,n):w(t,n))},function(e){r||(r=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,b(t,o))},t)}function v(t,e){e._state===X?w(t,e._result):e._state===Z?b(t,e._result):g(e,void 0,function(e){y(t,e)},function(e){b(t,e)})}function d(t,n,r){n.constructor===t.constructor&&r===Q&&constructor.resolve===R?v(t,n):r===$?b(t,$.error):void 0===r?w(t,n):e(r)?_(t,n,r):w(t,n)}function y(e,n){e===n?b(e,f()):t(n)?d(e,n,h(n)):w(e,n)}function m(t){t._onerror&&t._onerror(t._result),A(t)}function w(t,e){t._state===V&&(t._result=e,t._state=X,0!==t._subscribers.length&&W(A,t))}function b(t,e){t._state===V&&(t._state=Z,t._result=e,W(m,t))}function g(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+X]=n,o[i+Z]=r,0===i&&t._state&&W(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?j(n,r,o,i):o(i);t._subscribers.length=0}}function E(){this.error=null}function S(t,e){try{return t(e)}catch(t){return tt.error=t,tt}}function j(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=S(r,o),i===tt?(c=!0,s=i.error,i=null):u=!0,n===i)return void b(n,l())}else i=o,u=!0;n._state!==V||(a&&u?y(n,i):c?b(n,s):t===X?w(n,i):t===Z&&b(n,i))}function T(t,e){try{e(function(e){y(t,e)},function(e){b(t,e)})}catch(e){b(t,e)}}function P(t){return new st(this,t).promise}function x(t){function e(t){y(o,t)}function n(t){b(o,t)}var r=this,o=new r(a);if(!N(t))return b(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o._state===V&&i>s;s++)g(r.resolve(t[s]),void 0,e,n);return o}function C(t){var e=this,n=new e(a);return b(n,t),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function k(t){this._id=ot++,this._state=void 0,this._result=void 0,this._subscribers=[],a!==t&&("function"!=typeof t&&M(),this instanceof k?T(this,t):O())}function Y(t,e){this._instanceConstructor=t,this.promise=new t(a),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):b(this.promise,this._validationError())}function q(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;(!e||"[object Promise]"!==Object.prototype.toString.call(e.resolve())||e.cast)&&(t.Promise=it)}var F;F=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var D,K,L,N=F,U=0,W=function(t,e){J[U]=t,J[U+1]=e,2===(U+=2)&&(K?K(s):L())},z="undefined"!=typeof window?window:void 0,B=z||{},G=B.MutationObserver||B.WebKitMutationObserver,H="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),I="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3);L=H?function(){return function(){process.nextTick(s)}}():G?function(){var t=0,e=new G(s),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():I?function(){var t=new MessageChannel;return t.port1.onmessage=s,function(){t.port2.postMessage(0)}}():void 0===z&&"function"==typeof require?function(){try{var t=require,e=t("vertx");return D=e.runOnLoop||e.runOnContext,o()}catch(t){return i()}}():i();var Q=u,R=c,V=void 0,X=1,Z=2,$=new E,tt=new E,et=P,nt=x,rt=C,ot=0,it=k;k.all=et,k.race=nt,k.resolve=R,k.reject=rt,k._setScheduler=n,k._setAsap=r,k._asap=W,k.prototype={constructor:k,then:Q,catch:function(t){return this.then(null,t)}};var st=Y;Y.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===V&&t>n;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===R){var o=h(t);if(o===Q&&t._state!==V)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===it){var i=new n(a);d(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===V&&(this._remaining--,t===Z?b(r,n):this._result[e]=n),0===this._remaining&&w(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;g(t,void 0,function(t){n._settledAt(X,e,t)},function(t){n._settledAt(Z,e,t)})};var ut=q,ct={Promise:it,polyfill:ut};"function"==typeof define&&define.amd?define(function(){return ct}):"undefined"!=typeof module&&module.exports?module.exports=ct:void 0!==this&&(this.ES6Promise=ct),ut()}).call(this);
"use strict";angular.module("19degrees.ngSweetAlert2",[]).factory("sweetAlert",["$timeout","$window",function(n,t){var i=t.swal,o=function(t,o,u){n(function(){"function"==typeof o?i(t,function(t){n(function(){o(t)})},u):i(t,o,u)})},u={swal:i,adv:function(t){n(function(){i(t)})},timed:function(t,o,u,e){n(function(){i({title:t,text:o,type:u,timer:e})})},success:function(t,o){n(function(){i(t,o,"success")})},error:function(t,o){n(function(){i(t,o,"error")})},warning:function(t,o){n(function(){i(t,o,"warning")})},info:function(t,o){n(function(){i(t,o,"info")})}};return angular.extend(o,u),o}]);
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Sweetalert2=t()}(this,function(){"use strict";function e(){null===v.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(v.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=K()+"px")}function t(){null!==v.previousBodyPadding&&(document.body.style.paddingRight=v.previousBodyPadding,v.previousBodyPadding=null)}function n(){if(void 0===arguments[0])return console.error("SweetAlert2 expects at least 1 attribute!"),!1;var e=f({},U);switch(typeof arguments[0]){case"string":e.title=arguments[0],e.text=arguments[1]||"",e.type=arguments[2]||"";break;case"object":f(e,arguments[0]),e.extraParams=arguments[0].extraParams,"email"===e.input&&null===e.inputValidator&&(e.inputValidator=function(e){return new Promise(function(t,n){/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?t():n("Invalid email address")})});break;default:return console.error('SweetAlert2: Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}Q(e);var t=g();return new Promise(function(n,i){function a(t,n){for(var o=B(e.focusCancel),r=0;r<o.length;r++){t+=n,t===o.length?t=0:-1===t&&(t=o.length-1);var i=o[t];if(O(i))return i.focus()}}function s(t){var n=t||window.event,r=n.keyCode||n.which;if(-1!==[9,13,32,27].indexOf(r)){for(var l=n.target||n.srcElement,s=B(e.focusCancel),c=-1,u=0;u<s.length;u++)if(l===s[u]){c=u;break}9===r?(n.shiftKey?a(c,-1):a(c,1),I(n)):13===r||32===r?-1===c&&(e.focusCancel?j(P,n):j(b,n)):27===r&&!0===e.allowEscapeKey&&(o.closeModal(e.onClose),i("esc"))}}e.timer&&(t.timeout=setTimeout(function(){o.closeModal(e.onClose),i("timer")},e.timer));var c=function(n){switch(n=n||e.input){case"select":case"textarea":case"file":return M(t,l[n]);case"checkbox":return t.querySelector("."+l.checkbox+" input");case"radio":return t.querySelector("."+l.radio+" input:checked")||t.querySelector("."+l.radio+" input:first-child");case"range":return t.querySelector("."+l.range+" input");default:return M(t,l.input)}},u=function(){var t=c();if(!t)return null;switch(e.input){case"checkbox":return t.checked?1:0;case"radio":return t.checked?t.value:null;case"file":return t.files.length?t.files[0]:null;default:return e.inputAutoTrim?t.value.trim():t.value}};e.input&&setTimeout(function(){var e=c();e&&A(e)},0);var d,f=function(t){e.showLoaderOnConfirm&&o.showLoading(),e.preConfirm?e.preConfirm(t,e.extraParams).then(function(r){o.closeModal(e.onClose),n(r||t)},function(e){o.hideLoading(),e&&o.showValidationError(e)}):(o.closeModal(e.onClose),n(t))},h=function(t){var n=t||window.event,r=n.target||n.srcElement,a=S(),l=x(),s=a===r||a.contains(r),c=l===r||l.contains(r);switch(n.type){case"mouseover":case"mouseup":e.buttonsStyling&&(s?a.style.backgroundColor=m(e.confirmButtonColor,-.1):c&&(l.style.backgroundColor=m(e.cancelButtonColor,-.1)));break;case"mouseout":e.buttonsStyling&&(s?a.style.backgroundColor=e.confirmButtonColor:c&&(l.style.backgroundColor=e.cancelButtonColor));break;case"mousedown":e.buttonsStyling&&(s?a.style.backgroundColor=m(e.confirmButtonColor,-.2):c&&(l.style.backgroundColor=m(e.cancelButtonColor,-.2)));break;case"click":if(s&&o.isVisible())if(e.input){var d=u();e.inputValidator?(o.disableInput(),e.inputValidator(d,e.extraParams).then(function(){o.enableInput(),f(d)},function(e){o.enableInput(),e&&o.showValidationError(e)})):f(d)}else f(!0);else c&&o.isVisible()&&(o.closeModal(e.onClose),i("cancel"))}},y=t.querySelectorAll("button");for(d=0;d<y.length;d++)y[d].onclick=h,y[d].onmouseover=h,y[d].onmouseout=h,y[d].onmousedown=h;E().onclick=function(){o.closeModal(e.onClose),i("close")},r.onclick=function(t){t.target===r&&e.allowOutsideClick&&(o.closeModal(e.onClose),i("overlay"))};var b=S(),P=x();e.reverseButtons?b.parentNode.insertBefore(P,b):b.parentNode.insertBefore(b,P),v.previousWindowKeyDown=window.onkeydown,window.onkeydown=s,e.buttonsStyling&&(b.style.borderLeftColor=e.confirmButtonColor,b.style.borderRightColor=e.confirmButtonColor),o.showLoading=o.enableLoading=function(){V(w()),V(b,"inline-block"),q(b,"loading"),q(t,"loading"),b.disabled=!0,P.disabled=!0},o.hideLoading=o.disableLoading=function(){e.showConfirmButton||(T(b),e.showCancelButton||T(w())),L(b,"loading"),L(t,"loading"),b.disabled=!1,P.disabled=!1},o.enableButtons=function(){b.disabled=!1,P.disabled=!1},o.disableButtons=function(){b.disabled=!0,P.disabled=!0},o.enableConfirmButton=function(){b.disabled=!1},o.disableConfirmButton=function(){b.disabled=!0},o.enableInput=function(){var e=c();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),o=0;o<n.length;o++)n[o].disabled=!1;else e.disabled=!1},o.disableInput=function(){var e=c();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),o=0;o<n.length;o++)n[o].disabled=!0;else e.disabled=!0},o.recalculateHeight=R(function(){var e=g(),t=e.style.display;e.style.minHeight="",V(e),e.style.minHeight=e.scrollHeight+1+"px",e.style.display=t},50),o.showValidationError=function(e){var t=k();t.innerHTML=e,V(t);var n=c();A(n),q(n,"error")},o.resetValidationError=function(){var e=k();T(e),o.recalculateHeight();var t=c();t&&L(t,"error")},o.getProgressSteps=function(){return e.progressSteps},o.setProgressSteps=function(t){e.progressSteps=t,Q(e)},o.showProgressSteps=function(){V(C())},o.hideProgressSteps=function(){T(C())},o.enableButtons(),o.hideLoading(),o.resetValidationError();var H,N=["input","file","range","select","radio","checkbox","textarea"];for(d=0;d<N.length;d++){var W=l[N[d]],D=M(t,W);if(H=c(N[d])){for(var K in H.attributes)if(H.attributes.hasOwnProperty(K)){var U=H.attributes[K].name;"type"!==U&&"value"!==U&&H.removeAttribute(U)}for(var z in e.inputAttributes)H.setAttribute(z,e.inputAttributes[z])}D.className=W,e.inputClass&&q(D,e.inputClass),T(D)}var Z;switch(e.input){case"text":case"email":case"password":case"number":case"tel":H=M(t,l.input),H.value=e.inputValue,H.placeholder=e.inputPlaceholder,H.type=e.input,V(H);break;case"file":H=M(t,l.file),H.placeholder=e.inputPlaceholder,H.type=e.input,V(H);break;case"range":var F=M(t,l.range),J=F.querySelector("input"),$=F.querySelector("output");J.value=e.inputValue,J.type=e.input,$.value=e.inputValue,V(F);break;case"select":var _=M(t,l.select);if(_.innerHTML="",e.inputPlaceholder){var G=document.createElement("option");G.innerHTML=e.inputPlaceholder,G.value="",G.disabled=!0,G.selected=!0,_.appendChild(G)}Z=function(t){for(var n in t){var o=document.createElement("option");o.value=n,o.innerHTML=t[n],e.inputValue===n&&(o.selected=!0),_.appendChild(o)}V(_),_.focus()};break;case"radio":var X=M(t,l.radio);X.innerHTML="",Z=function(t){for(var n in t){var o=1,r=document.createElement("input"),i=document.createElement("label"),a=document.createElement("span");r.type="radio",r.name=l.radio,r.value=n,r.id=l.radio+"-"+o++,e.inputValue===n&&(r.checked=!0),a.innerHTML=t[n],i.appendChild(r),i.appendChild(a),i.for=r.id,X.appendChild(i)}V(X);var s=X.querySelectorAll("input");s.length&&s[0].focus()};break;case"checkbox":var ee=M(t,l.checkbox),te=c("checkbox");te.type="checkbox",te.value=1,te.id=l.checkbox,te.checked=Boolean(e.inputValue);var ne=ee.getElementsByTagName("span");ne.length&&ee.removeChild(ne[0]),ne=document.createElement("span"),ne.innerHTML=e.inputPlaceholder,ee.appendChild(ne),V(ee);break;case"textarea":var oe=M(t,l.textarea);oe.value=e.inputValue,oe.placeholder=e.inputPlaceholder,V(oe);break;case null:break;default:console.error('SweetAlert2: Unexpected type of input! Expected "text" or "email" or "password", "select", "checkbox", "textarea" or "file", got "'+e.input+'"')}"select"!==e.input&&"radio"!==e.input||(e.inputOptions instanceof Promise?(o.showLoading(),e.inputOptions.then(function(e){o.hideLoading(),Z(e)})):"object"==typeof e.inputOptions?Z(e.inputOptions):console.error("SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got "+typeof e.inputOptions)),Y(e.animation,e.onOpen),a(-1,1),r.scrollTop=0,"undefined"==typeof MutationObserver||p||(p=new MutationObserver(o.recalculateHeight),p.observe(t,{childList:!0,characterData:!0,subtree:!0}))})}function o(){var e=arguments;return o.isVisible()&&o.close(),n.apply(this,e)}var r,i="swal2-",a=function(e){var t={};for(var n in e)t[e[n]]=i+e[n];return t},l=a(["container","in","modal","overlay","close","content","spacer","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","validationerror","progresssteps","activeprogressstep","progresscircle","progressline"]),s=a(["success","warning","info","question","error"]),c={title:"",text:"",html:"",type:null,customClass:"",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusCancel:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onOpen:null,onClose:null},u='<div class="'+l.modal+'" style="display: none" tabIndex="-1"><ul class="'+l.progresssteps+'"></ul><div class="'+l.icon+" "+s.error+'"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="'+l.icon+" "+s.question+'">?</div><div class="'+l.icon+" "+s.warning+'">!</div><div class="'+l.icon+" "+s.info+'">i</div><div class="'+l.icon+" "+s.success+'"><span class="line tip"></span> <span class="line long"></span><div class="placeholder"></div> <div class="fix"></div></div><img class="'+l.image+'"><h2></h2><div class="'+l.content+'"></div><input class="'+l.input+'"><input type="file" class="'+l.file+'"><div class="'+l.range+'"><output></output><input type="range"></div><select class="'+l.select+'"></select><div class="'+l.radio+'"></div><label for="'+l.checkbox+'" class="'+l.checkbox+'"><input type="checkbox"></label><textarea class="'+l.textarea+'"></textarea><div class="'+l.validationerror+'"></div><hr class="'+l.spacer+'"><button type="button" class="'+l.confirm+'">OK</button><button type="button" class="'+l.cancel+'">Cancel</button><span class="'+l.close+'">&times;</span></div>',d=document.getElementsByClassName(l.container);d.length?r=d[0]:(r=document.createElement("div"),r.className=l.container,r.innerHTML=u);var p,f=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},m=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n="#",o=0;3>o;o++){var r=parseInt(e.substr(2*o,2),16);r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16),n+=("00"+r).substr(r.length)}return n},v={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},h=function(){if("undefined"==typeof document)return void console.error("SweetAlert2 requires document to initialize");if(!document.getElementsByClassName(l.container).length){document.body.appendChild(r);var e=g(),t=M(e,l.input),n=M(e,l.file),i=e.querySelector("."+l.range+" input"),a=M(e,l.select),s=e.querySelector("."+l.checkbox+" input"),c=M(e,l.textarea);return t.oninput=function(){o.resetValidationError()},t.onkeyup=function(e){e.stopPropagation(),13===e.keyCode&&o.clickConfirm()},n.onchange=function(){o.resetValidationError()},i.oninput=function(){o.resetValidationError(),i.previousSibling.value=i.value},i.onchange=function(){o.resetValidationError(),i.previousSibling.value=i.value},a.onchange=function(){o.resetValidationError()},s.onchange=function(){o.resetValidationError()},c.oninput=function(){o.resetValidationError()},e}},y=function(e){return r.querySelector("."+e)},g=function(){return document.body.querySelector("."+l.modal)||h()},b=function(){return g().querySelectorAll("."+l.icon)},w=function(){return y(l.spacer)},C=function(){return y(l.progresssteps)},k=function(){return y(l.validationerror)},S=function(){return y(l.confirm)},x=function(){return y(l.cancel)},E=function(){return y(l.close)},B=function(e){var t=[S(),x()];return e&&t.reverse(),t.concat(Array.prototype.slice.call(g().querySelectorAll("button:not([class^="+i+"]), input:not([type=hidden]), textarea, select")))},P=function(e,t){return e.classList.contains(t)},A=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},q=function(e,t){if(e&&t){t.split(/\s+/).forEach(function(t){e.classList.add(t)})}},L=function(e,t){if(e&&t){t.split(/\s+/).forEach(function(t){e.classList.remove(t)})}},M=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(P(e.childNodes[n],t))return e.childNodes[n]},V=function(e,t){t||(t="block"),e.style.opacity="",e.style.display=t},T=function(e){e.style.opacity="",e.style.display="none"},H=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},O=function(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length},N=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},j=function(e){if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},I=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):window.event&&window.event.hasOwnProperty("cancelBubble")&&(window.event.cancelBubble=!0)},W=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),D=function(){var e=g();window.onkeydown=v.previousWindowKeyDown,v.previousActiveElement&&v.previousActiveElement.focus&&v.previousActiveElement.focus(),clearTimeout(e.timeout)},K=function(){var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},R=function(e,t,n){var o;return function(){var r=this,i=arguments,a=function(){o=null,n||e.apply(r,i)},l=n&&!o;clearTimeout(o),o=setTimeout(a,t),l&&e.apply(r,i)}},U=f({},c),z=[],Q=function(e){var t=g();for(var n in e)c.hasOwnProperty(n)||"extraParams"===n||console.warn('SweetAlert2: Unknown parameter "'+n+'"');t.style.width="number"==typeof e.width?e.width+"px":e.width,t.style.padding=e.padding+"px",t.style.background=e.background;var r=t.querySelector("h2"),i=t.querySelector("."+l.content),a=S(),u=x(),d=t.querySelector("."+l.close);r.innerHTML=e.title.split("\n").join("<br>");var p;if(e.text||e.html){if("object"==typeof e.html)if(i.innerHTML="",0 in e.html)for(p=0;p in e.html;p++)i.appendChild(e.html[p].cloneNode(!0));else i.appendChild(e.html.cloneNode(!0));else i.innerHTML=e.html||e.text.split("\n").join("<br>");V(i)}else T(i);e.showCloseButton?V(d):T(d),t.className=l.modal,e.customClass&&q(t,e.customClass);var f=C(),m=parseInt(null===e.currentProgressStep?o.getQueueStep():e.currentProgressStep,10);e.progressSteps.length?(V(f),H(f),m>=e.progressSteps.length&&console.warn("SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,n){var o=document.createElement("li");if(q(o,l.progresscircle),o.innerHTML=t,n===m&&q(o,l.activeprogressstep),f.appendChild(o),n!==e.progressSteps.length-1){var r=document.createElement("li");q(r,l.progressline),r.style.width=e.progressStepsDistance,f.appendChild(r)}})):T(f);var v=b();for(p=0;p<v.length;p++)T(v[p]);if(e.type){var h=!1;for(var y in s)if(e.type===y){h=!0;break}if(!h)return console.error("SweetAlert2: Unknown alert type: "+e.type),!1;var k=t.querySelector("."+l.icon+"."+s[e.type]);switch(V(k),e.type){case"success":q(k,"animate"),q(k.querySelector(".tip"),"animate-success-tip"),q(k.querySelector(".long"),"animate-success-long");break;case"error":q(k,"animate-error-icon"),q(k.querySelector(".x-mark"),"animate-x-mark");break;case"warning":q(k,"pulse-warning")}}var E=t.querySelector("."+l.image);e.imageUrl?(E.setAttribute("src",e.imageUrl),V(E),e.imageWidth?E.setAttribute("width",e.imageWidth):E.removeAttribute("width"),e.imageHeight?E.setAttribute("height",e.imageHeight):E.removeAttribute("height"),E.className=l.image,e.imageClass&&q(E,e.imageClass)):T(E),e.showCancelButton?u.style.display="inline-block":T(u),e.showConfirmButton?N(a,"display"):T(a);var B=w();e.showConfirmButton||e.showCancelButton?V(B):T(B),a.innerHTML=e.confirmButtonText,u.innerHTML=e.cancelButtonText,e.buttonsStyling&&(a.style.backgroundColor=e.confirmButtonColor,u.style.backgroundColor=e.cancelButtonColor),a.className=l.confirm,q(a,e.confirmButtonClass),u.className=l.cancel,q(u,e.cancelButtonClass),e.buttonsStyling?(q(a,"styled"),q(u,"styled")):(L(a,"styled"),L(u,"styled"),a.style.backgroundColor=a.style.borderLeftColor=a.style.borderRightColor="",u.style.backgroundColor=u.style.borderLeftColor=u.style.borderRightColor=""),!0===e.animation?L(t,"no-animation"):q(t,"no-animation")},Y=function(t,n){var o=g();t?(q(o,"show-swal2"),q(r,"fade"),L(o,"hide-swal2")):L(o,"fade"),V(o),r.style.overflowY="hidden",W&&!P(o,"no-animation")?o.addEventListener(W,function e(){o.removeEventListener(W,e),r.style.overflowY="auto"}):r.style.overflowY="auto",q(r,"in"),q(document.body,l.in),e(),v.previousActiveElement=document.activeElement,null!==n&&"function"==typeof n&&n.call(this,o)};return o.isVisible=function(){var e=g();return O(e)},o.queue=function(e){z=e;var t=g(),n=function(){z=[],t.removeAttribute("data-queue-step")};return new Promise(function(e,r){!function i(a,l){a<z.length?(t.setAttribute("data-queue-step",a),o(z[a]).then(function(){i(a+1,l)},function(e){n(),r(e)})):(n(),e())}(0)})},o.getQueueStep=function(){return g().getAttribute("data-queue-step")},o.insertQueueStep=function(e,t){return t&&t<z.length?z.splice(t,0,e):z.push(e)},o.deleteQueueStep=function(e){void 0!==z[e]&&z.splice(e,1)},o.close=o.closeModal=function(e){var n=g();L(n,"show-swal2"),q(n,"hide-swal2");var o=n.querySelector("."+l.icon+"."+s.success);L(o,"animate"),L(o.querySelector(".tip"),"animate-success-tip"),L(o.querySelector(".long"),"animate-success-long");var i=n.querySelector("."+l.icon+"."+s.error);L(i,"animate-error-icon"),L(i.querySelector(".x-mark"),"animate-x-mark");var a=n.querySelector("."+l.icon+"."+s.warning);L(a,"pulse-warning"),D(),W&&!P(n,"no-animation")?n.addEventListener(W,function e(){n.removeEventListener(W,e),P(n,"hide-swal2")&&(T(n),L(r,"in"),L(document.body,l.in),t())}):(T(n),L(r,"in"),L(document.body,l.in),t()),null!==e&&"function"==typeof e&&e.call(this,n)},o.clickConfirm=function(){S().click()},o.clickCancel=function(){x().click()},o.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");f(U,e)},o.resetDefaults=function(){U=f({},c)},o.version="5.2.0","function"==typeof Promise?Promise.prototype.done=Promise.prototype.done||function(){return this.catch(function(){})}:console.warn("SweetAlert2: Please inlude Promise polyfill BEFORE including sweetalert2.js if IE10+ support needed."),o}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2);
angular.module("ivh.treeview",[]),angular.module("ivh.treeview").constant("ivhTreeviewInterpolateEndSymbol","}}"),angular.module("ivh.treeview").constant("ivhTreeviewInterpolateStartSymbol","{{"),angular.module("ivh.treeview").directive("ivhTreeviewCheckboxHelper",[function(){"use strict";return{restrict:"A",scope:{node:"=ivhTreeviewCheckboxHelper"},require:"^ivhTreeview",link:function(e,t,i,n){var r=e.node,l=n.opts(),a=l.indeterminateAttribute,o=l.selectedAttribute;e.isSelected=r[o],e.trvw=n,e.resolveIndeterminateClick=function(){r[a]&&n.select(r,!0)},e.$watch("node."+o,function(t){e.isSelected=t}),e.$watch("node."+a,function(e){t.find("input").prop("indeterminate",e)})},template:['<input type="checkbox"','class="ivh-treeview-checkbox"','ng-model="isSelected"','ng-click="resolveIndeterminateClick()"','ng-change="trvw.select(node, isSelected)" />'].join("\n")}}]),angular.module("ivh.treeview").directive("ivhTreeviewCheckbox",[function(){"use strict";return{restrict:"AE",require:"^ivhTreeview",template:'<span ivh-treeview-checkbox-helper="node"></span>'}}]),angular.module("ivh.treeview").directive("ivhTreeviewChildren",function(){"use strict";return{restrict:"AE",require:"^ivhTreeviewNode",template:['<ul ng-if="getChildren().length" class="ivh-treeview">','<li ng-repeat="child in getChildren()"','ng-hide="trvw.hasFilter() && !trvw.isVisible(child)"','class="ivh-treeview-node"',"ng-class=\"{'ivh-treeview-node-collapsed': !trvw.isExpanded(child) && !trvw.isLeaf(child)}\"",'ivh-treeview-node="child"','ivh-treeview-depth="childDepth">',"</li>","</ul>"].join("\n")}}),angular.module("ivh.treeview").directive("ivhTreeviewNode",["ivhTreeviewCompiler",function(e){"use strict";return{restrict:"A",scope:{node:"=ivhTreeviewNode",depth:"=ivhTreeviewDepth"},require:"^ivhTreeview",compile:function(t){return e.compile(t,function(e,t,i,n){var r=e.node,l=e.getChildren=function(){return n.children(r)};e.trvw=n,e.childDepth=e.depth+1,n.isExpanded(r)||n.expand(r,n.isInitiallyExpanded(e.depth)),e.$watch(function(){return l().length>0},function(e){e?t.removeClass("ivh-treeview-node-leaf"):t.addClass("ivh-treeview-node-leaf")})})}}}]),angular.module("ivh.treeview").directive("ivhTreeviewToggle",[function(){"use strict";return{restrict:"A",require:"^ivhTreeview",link:function(e,t,i,n){var r=e.node;t.addClass("ivh-treeview-toggle"),t.bind("click",function(){n.isLeaf(r)||e.$apply(function(){n.toggleExpanded(r),n.onToggle(r)})})}}}]),angular.module("ivh.treeview").directive("ivhTreeviewTwistie",["$compile","ivhTreeviewOptions",function(e,t){"use strict";var i=t();return{restrict:"A",require:"^ivhTreeview",template:['<span class="ivh-treeview-twistie">','<span class="ivh-treeview-twistie-collapsed">',i.twistieCollapsedTpl,"</span>",'<span class="ivh-treeview-twistie-expanded">',i.twistieExpandedTpl,"</span>",'<span class="ivh-treeview-twistie-leaf">',i.twistieLeafTpl,"</span>","</span>"].join("\n"),link:function(t,n,r,l){if(l.hasLocalTwistieTpls){var a=l.opts(),o=n.children().eq(0).children();angular.forEach(["twistieCollapsedTpl","twistieExpandedTpl","twistieLeafTpl"],function(n,r){var l=a[n],s=i[n];if(l&&l!==s){("<"!==l.substr(0,1)||">"!==l.substr(-1,1))&&(l="<span>"+l+"</span>");var u=e(l)(t);o.eq(r).html("").append(u)}})}}}}]),angular.module("ivh.treeview").directive("ivhTreeview",["ivhTreeviewMgr",function(e){"use strict";return{restrict:"A",transclude:!0,scope:{root:"=ivhTreeview",childrenAttribute:"=ivhTreeviewChildrenAttribute",defaultSelectedState:"=ivhTreeviewDefaultSelectedState",expandToDepth:"=ivhTreeviewExpandToDepth",idAttribute:"=ivhTreeviewIdAttribute",indeterminateAttribute:"=ivhTreeviewIndeterminateAttribute",expandedAttribute:"=ivhTreeviewExpandedAttribute",labelAttribute:"=ivhTreeviewLabelAttribute",nodeTpl:"=ivhTreeviewNodeTpl",selectedAttribute:"=ivhTreeviewSelectedAttribute",onCbChange:"&ivhTreeviewOnCbChange",onToggle:"&ivhTreeviewOnToggle",twistieCollapsedTpl:"=ivhTreeviewTwistieCollapsedTpl",twistieExpandedTpl:"=ivhTreeviewTwistieExpandedTpl",twistieLeafTpl:"=ivhTreeviewTwistieLeafTpl",useCheckboxes:"=ivhTreeviewUseCheckboxes",validate:"=ivhTreeviewValidate",visibleAttribute:"=ivhTreeviewVisibleAttribute",userOptions:"=ivhTreeviewOptions",filter:"=ivhTreeviewFilter"},controllerAs:"trvw",controller:["$scope","$element","$attrs","$transclude","ivhTreeviewOptions","filterFilter",function(t,i,n,r,l,a){var o=angular,s=this,u=o.extend({},l(),t.userOptions);o.forEach(["childrenAttribute","defaultSelectedState","expandToDepth","idAttribute","indeterminateAttribute","expandedAttribute","labelAttribute","nodeTpl","selectedAttribute","twistieCollapsedTpl","twistieExpandedTpl","twistieLeafTpl","useCheckboxes","validate","visibleAttribute"],function(e){o.isDefined(t[e])&&(u[e]=t[e])});var c=function(e){return"ivhTreeview"+e.charAt(0).toUpperCase()+e.slice(1)};o.forEach(["onCbChange","onToggle"],function(e){n[c(e)]&&(u[e]=t[e])});var d;r(function(e,t){var i="";angular.forEach(e,function(e){i+=(e.innerHTML||"").trim()}),i.length&&(d=t,u.nodeTpl=i)}),s.opts=function(){return u};var v=t.userOptions||{};s.hasLocalTwistieTpls=!!(v.twistieCollapsedTpl||v.twistieExpandedTpl||v.twistieLeafTpl||t.twistieCollapsedTpl||t.twistieExpandedTpl||t.twistieLeafTpl),s.children=function(e){var t=e[u.childrenAttribute];return o.isArray(t)?t:[]},s.label=function(e){return e[u.labelAttribute]},s.hasFilter=function(){return o.isDefined(t.filter)},s.getFilter=function(){return t.filter||""},s.isVisible=function(e){var t=s.getFilter();if(!t||a([e],t).length)return!0;if("object"==typeof t||"function"==typeof t)for(var i=s.children(e),n=i.length;n--;)if(s.isVisible(i[n]))return!0;return!1},s.useCheckboxes=function(){return u.useCheckboxes},s.select=function(i,n){e.select(t.root,i,u,n),s.onCbChange(i,n)},s.isSelected=function(e){return e[u.selectedAttribute]},s.toggleSelected=function(e){var t=!e[u.selectedAttribute];s.select(e,t)},s.expand=function(i,n){e.expand(t.root,i,u,n)},s.isExpanded=function(e){return e[u.expandedAttribute]},s.toggleExpanded=function(e){s.expand(e,!s.isExpanded(e))},s.isInitiallyExpanded=function(e){return(-1===u.expandToDepth?1/0:u.expandToDepth)>e},s.isLeaf=function(e){return 0===s.children(e).length},s.getNodeTpl=function(){return u.nodeTpl},s.root=function(){return t.root},s.onToggle=function(e){if(u.onToggle){var i={ivhNode:e,ivhIsExpanded:s.isExpanded(e),ivhTree:t.root};u.onToggle(i)}},s.onCbChange=function(e,i){if(u.onCbChange){var n={ivhNode:e,ivhIsSelected:i,ivhTree:t.root};u.onCbChange(n)}}}],link:function(t){var i=t.trvw.opts();i.validate&&e.validate(t.root,i)},template:['<ul class="ivh-treeview">','<li ng-repeat="child in root | ivhTreeviewAsArray"','ng-hide="trvw.hasFilter() && !trvw.isVisible(child)"','class="ivh-treeview-node"',"ng-class=\"{'ivh-treeview-node-collapsed': !trvw.isExpanded(child) && !trvw.isLeaf(child)}\"",'ivh-treeview-node="child"','ivh-treeview-depth="0">',"</li>","</ul>"].join("\n")}}]),angular.module("ivh.treeview").filter("ivhTreeviewAsArray",function(){"use strict";return function(e){return!angular.isArray(e)&&angular.isObject(e)?[e]:e}}),angular.module("ivh.treeview").factory("ivhTreeviewBfs",["ivhTreeviewOptions",function(e){"use strict";var t=angular;return function(i,n,r){2===arguments.length&&t.isFunction(n)&&(r=n,n={}),n=angular.extend({},e(),n),r=r||t.noop;var l,a,o,s,u,c=[],d=n.childrenAttribute;for(t.isArray(i)?(t.forEach(i,function(e){c.push([e,[]])}),l=c.shift()):l=[i,[]];l;){if(a=l[0],o=l[1],!1!==r(a,o)&&a[d]&&t.isArray(a[d]))for(u=a[d].length,s=0;u>s;s++)c.push([a[d][s],[a].concat(o)]);l=c.shift()}}}]),angular.module("ivh.treeview").factory("ivhTreeviewCompiler",["$compile",function(e){"use strict";return{compile:function(t,i){angular.isFunction(i)&&(i={post:i});var n;return{pre:i&&i.pre?i.pre:null,post:function(t,r,l,a){n||(n=e(a.getNodeTpl())),n(t,function(e){r.append(e)}),i&&i.post&&i.post.apply(null,arguments)}}}}}]),angular.module("ivh.treeview").factory("ivhTreeviewMgr",["ivhTreeviewOptions","ivhTreeviewBfs",function(e,t){"use strict";var i=angular,n=e(),r={},l=function(e){e[this.selectedAttribute]=!1,e[this.indeterminateAttribute]=!1},a=function(e){e[this.selectedAttribute]=!0,e[this.indeterminateAttribute]=!1},o=function(e){var t=e[this.childrenAttribute],n=this.selectedAttribute,r=this.indeterminateAttribute,l=0,a=0;i.forEach(t,function(e){e[n]?l++:e[r]&&a++}),0===l&&0===a?(e[n]=!1,e[r]=!1):l===t.length?(e[n]=!0,e[r]=!1):(e[n]=!1,e[r]=!0)},s=function(e,i,n,r){var l=u(i),a=!0,o=n.idAttribute,s=null,c=[];return t(e,n,function(e,t){return a&&(l?i===e[o]:i===e)&&(a=!1,s=e,c=t),a}),r(s,c)},u=function(e){return i.isString(e)||i.isNumber(e)};return r.select=function(e,s,c,d){arguments.length>2&&"boolean"==typeof c&&(d=c,c={}),c=i.extend({},n,c),d=!i.isDefined(d)||d;var v=u(s),h=!0,p=c.idAttribute;return t(e,c,function(e,n){if(h&&(v?s===e[p]:s===e)){h=!1;var r=d?a.bind(c):l.bind(c);t(e,c,r),i.forEach(n,o.bind(c))}return h}),r},r.selectAll=function(e,l,a){arguments.length>1&&"boolean"==typeof l&&(a=l,l={}),l=i.extend({},n,l),a=!i.isDefined(a)||a;var o=l.selectedAttribute,s=l.indeterminateAttribute;return t(e,l,function(e){e[o]=a,e[s]=!1}),r},r.selectEach=function(e,t,n,l){return i.forEach(t,function(t){r.select(e,t,n,l)}),r},r.deselect=function(e,t,i){return r.select(e,t,i,!1)},r.deselectAll=function(e,t){return r.selectAll(e,t,!1)},r.deselectEach=function(e,t,i){return r.selectEach(e,t,i,!1)},r.validate=function(e,l,a){if(!e)return r;arguments.length>1&&"boolean"==typeof l&&(a=l,l={}),l=i.extend({},n,l),a=i.isDefined(a)?a:l.defaultSelectedState;var o=l.selectedAttribute,s=l.indeterminateAttribute;return t(e,l,function(t){return i.isDefined(t[o])&&t[o]!==a?(r.select(e,t,l,!a),!1):(t[o]=a,void(t[s]=!1))}),r},r.expand=function(e,t,l,a){arguments.length>2&&"boolean"==typeof l&&(a=l,l={}),l=i.extend({},n,l),a=!i.isDefined(a)||a;var o=u(t),c=l.expandedAttribute;return o?s(e,t,l,function(e){return e[c]=a,r}):(t[c]=a,r)},r.expandRecursive=function(e,l,a,o){arguments.length>2&&"boolean"==typeof a&&(o=a,a={}),l=i.isDefined(l)?l:e,a=i.extend({},n,a),o=!i.isDefined(o)||o;var c,d=u(l),v=a.expandedAttribute;return d?s(e,l,a,function(e){c=e}):c=l,c&&t(c,a,function(e){e[v]=o}),r},r.collapse=function(e,t,i){return r.expand(e,t,i,!1)},r.collapseRecursive=function(e,t,i){return r.expandRecursive(e,t,i,!1)},r.expandTo=function(e,t,l,a){arguments.length>2&&"boolean"==typeof l&&(a=l,l={}),l=i.extend({},n,l),a=!i.isDefined(a)||a;var o=l.expandedAttribute,u=function(e){e[o]=a};return s(e,t,l,function(e,t){return i.forEach(t,u),r})},r.collapseParents=function(e,t,i){return r.expandTo(e,t,i,!1)},r}]),angular.module("ivh.treeview").provider("ivhTreeviewOptions",["ivhTreeviewInterpolateStartSymbol","ivhTreeviewInterpolateEndSymbol",function(e,t){"use strict";var i=e,n=t,r={idAttribute:"id",labelAttribute:"label",childrenAttribute:"children",selectedAttribute:"selected",expandToDepth:0,useCheckboxes:!0,validate:!0,indeterminateAttribute:"__ivhTreeviewIndeterminate",expandedAttribute:"__ivhTreeviewExpanded",defaultSelectedState:!0,twistieExpandedTpl:"(-)",twistieCollapsedTpl:"(+)",twistieLeafTpl:"o",nodeTpl:['<div class="ivh-treeview-node-content" title="{{trvw.label(node)}}">',"<span ivh-treeview-toggle>",'<span class="ivh-treeview-twistie-wrapper" ivh-treeview-twistie></span>',"</span>",'<span class="ivh-treeview-checkbox-wrapper" ng-if="trvw.useCheckboxes()"',"ivh-treeview-checkbox>","</span>",'<span class="ivh-treeview-node-label" ivh-treeview-toggle>',"{{trvw.label(node)}}","</span>","<div ivh-treeview-children></div>","</div>"].join("\n").replace(new RegExp("{{","g"),i).replace(new RegExp("}}","g"),n)};this.set=function(e){angular.extend(r,e)},this.$get=function(){return function(){return angular.copy(r)}}}]);
angular.module("ghiscoding.validation",["pascalprecht.translate"]).directive("validation",["$q","$timeout","ValidationCommon",function(e,a,t){return{restrict:"A",require:"ngModel",link:function(r,n,i,o){function s(t,i){var s=e.defer(),l=!1,d=void 0!==i?i:b.typingLimit,c=b.getFormElementByName(o.$name);if(Array.isArray(t)){if(O=[],h="",d=0,t.length>0)return"function"==typeof c.ctrl.$setTouched&&c.ctrl.$setTouched(),m(t,typeof t);d=0}return t&&t.badInput?g():(b.validate(t,!1),b.isFieldRequired()||I||""!==t&&null!==t&&void 0!==t?(c&&(c.isValidationCancelled=!1),(t||b.isFieldRequired()||I)&&o.$setValidity("validation",!1),"SELECT"===n.prop("tagName").toUpperCase()?(l=b.validate(t,!0),o.$setValidity("validation",l),s.resolve({isFieldValid:l,formElmObj:c,value:t}),s.promise):(void 0!==t&&(0===i?(l=b.validate(t,!0),r.$evalAsync(o.$setValidity("validation",l)),s.resolve({isFieldValid:l,formElmObj:c,value:t}),a.cancel(_)):(b.updateErrorMsg(""),a.cancel(_),_=a(function(){l=b.validate(t,!0),r.$evalAsync(o.$setValidity("validation",l)),s.resolve({isFieldValid:l,formElmObj:c,value:t})},d))),s.promise)):(p(),s.resolve({isFieldValid:!0,formElmObj:c,value:t}),s.promise))}function l(e,a,t){var r=s(e,0);r&&"function"==typeof r.then&&(O.push(r),parseInt(a)===t-1&&O.forEach(function(e){e.then(function(e){switch(V){case"all":!1===e.isFieldValid&&e.formElmObj.translatePromise.then(function(a){h.length>0&&A.displayOnlyLastErrorMsg?h="["+e.value+"] :: "+(e.formElmObj.validator&&e.formElmObj.validator.params?String.format(a,e.formElmObj.validator.params):a):h+=" ["+e.value+"] :: "+(e.formElmObj.validator&&e.formElmObj.validator.params?String.format(a,e.formElmObj.validator.params):a),b.updateErrorMsg(h,{isValid:!1}),b.addToValidationSummary(e.formElmObj,h)});break;case"one":default:!0===e.isFieldValid&&(o.$setValidity("validation",!0),p())}})}))}function d(e){var a=b.getFormElementByName(o.$name),t=void 0!==o.$modelValue?o.$modelValue:e.target.value;if(a&&a.hasOwnProperty("isValidationCancelled")){var r=s(t,0);N&&b.runValidationCallbackOnPromise(r,N)}else o.$setValidity("validation",!0)}function m(e,a){var t=e.length;if("string"===a)for(var r in e)l(e[r],r,t);else if("object"===a)for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];for(var i in n)if(n.hasOwnProperty(i)){if(D&&i!==D)continue;l(n[i],r,t)}}}function c(){p(),b.removeFromValidationSummary($);var e=b.arrayFindObject(E,"elmName",o.$name);if(e&&"function"==typeof e.watcherHandler){e.watcherHandler();E.shift()}}function p(){var e=b.getFormElementByName(o.$name);e&&(e.isValidationCancelled=!0),a.cancel(_),b.updateErrorMsg(""),o.$setValidity("validation",!0),y()}function u(){return r.$watch(function(){var e=o.$modelValue;if(v())return{badInput:!0};if(D&&Array.isArray(e)&&0===e.length&&Object.keys(e).length>0){var a=[],t={};return t[D]=e[D],a.push(t),a}return e},function(e,a){if(e&&e.badInput)return y(),g();var t=s(e);N&&b.runValidationCallbackOnPromise(t,N)},!0)}function g(){a.cancel(_);var e=b.getFormElementByName(o.$name);b.updateErrorMsg("INVALID_KEY_CHAR",{isValid:!1,translate:!0}),b.addToValidationSummary(e,"INVALID_KEY_CHAR",!0)}function v(){return!!n.prop("validity")&&!0===n.prop("validity").badInput}function f(){var e=o.$modelValue||"";Array.isArray(e)||o.$setValidity("validation",b.validate(e,!1));var a=b.getFormElementByName(o.$name);a&&(a.isValidationCancelled=!1),y(),n.bind("blur",d)}function y(){"function"==typeof d&&n.unbind("blur",d)}var _,b=new t(r,n,i,o),h="",O=[],E=[],A=b.getGlobalOptions(),$=i.name,N=i.hasOwnProperty("validationCallback")?i.validationCallback:null,I=i.hasOwnProperty("validateOnEmpty")?b.parseBool(i.validateOnEmpty):!!A.validateOnEmpty,V=i.hasOwnProperty("validArrayRequireHowMany")?i.validArrayRequireHowMany:"one",D=i.hasOwnProperty("validationArrayObjprop")?i.validationArrayObjprop:null;E.push({elmName:$,watcherHandler:u()}),i.$observe("disabled",function(e){e?(p(),b.removeFromValidationSummary($)):f()}),n.on("$destroy",function(){c()}),r.$watch(function(){return n.attr("validation")},function(e){if(void 0===e||""===e)c();else{b.defineValidation(),f();b.arrayFindObject(E,"elmName",o.$name)||E.push({elmName:$,watcherHandler:u()})}}),n.bind("blur",d),r.$on("angularValidation.revalidate",function(e,a){if(a==o.$name){o.revalidateCalled=!0;var t=o.$modelValue;if(n&&n.hasOwnProperty("isValidationCancelled")){var r=s(t);N&&b.runValidationCallbackOnPromise(r,N)}else o.$setValidity("validation",!0)}})}}}]),angular.module("ghiscoding.validation").factory("ValidationCommon",["$rootScope","$timeout","$translate","ValidationRules",function(e,a,t,r){function n(e,a,r){if(void 0!==e&&null!=e){var n=e.ctrl&&e.ctrl.$name?e.ctrl.$name:e.attrs&&e.attrs.name?e.attrs.name:e.elm.attr("name"),i=V(n,e),o=N(Y,"field",n);if(o>=0&&""===a)Y.splice(o,1);else if(""!==a){r&&(a=t.instant(a));var s=e.attrs&&e.friendlyName?t.instant(e.friendlyName):"",l={field:n,friendlyName:s,message:a,formName:i?i.$name:null};o>=0?Y[o]=l:Y.push(l)}if(e.scope.$validationSummary=Y,i&&(i.$validationSummary=$(Y,"formName",i.$name)),W&&W.controllerAs&&(W.controllerAs.$validationSummary=Y,i&&i.$name)){var d=i.$name.indexOf(".")>=0?i.$name.split(".")[1]:i.$name,m=W.controllerAs&&W.controllerAs[d]?W.controllerAs[d]:void 0!==e.elm.controller()?e.elm.controller()[d]:null;m&&(m.$validationSummary=$(Y,"formName",i.$name))}return Y}}function i(){var e=this,a={};e.validators=[],e=E(e);var t=e.validatorAttrs.rules||e.validatorAttrs.validation;if(t.indexOf("pattern=/")>=0){var n=t.match(/pattern=(\/(?:(?!:alt).)*\/[igm]*)(:alt=(.*))?/);if(!n||n.length<3)throw'Regex validator within the validation needs to be define with an opening "/" and a closing "/", please review your validator.';var i=n[1],o=n[2]?n[2].replace(/\|(.*)/,""):"",s=i.match(new RegExp("^/(.*?)/([gimy]*)$")),l=new RegExp(s[1],s[2]);a={altMsg:o,message:o.replace(/:alt=/,""),pattern:l},t=t.replace("pattern="+i,"pattern")}else if(t.indexOf("regex:")>=0){var n=t.match("regex:(.*?):regex");if(n.length<2)throw'Regex validator within the validation needs to be define with an opening "regex:" and a closing ":regex", please review your validator.';var d=n[1].split(":=");a={message:d[0],pattern:d[1]},t=t.replace(n[0],"regex:")}var m=t.split("|");if(m){e.bFieldRequired=t.indexOf("required")>=0;for(var c=0,p=m.length;c<p;c++){var u=m[c].indexOf("alt="),g=u>=0,v=[];g?(v=m[c].substring(0,u-1).split(":"),v.push(m[c].substring(u))):v=m[c].split(":"),e.validators[c]=r.getElementValidators({altText:!0===g?2===v.length?v[1]:v[2]:"",customRegEx:a,rule:v[0],ruleParams:g&&2===v.length?null:v[1]})}}return e}function o(e){return A(X,"fieldName",e)}function s(e){return e?$(X,"formName",e):X}function l(){return W}function d(e,a,t,r){this.scope=e,this.elm=a,this.ctrl=r,this.validatorAttrs=t,h(a,t,r,e),this.defineValidation()}function m(){return this.bFieldRequired}function c(e,a){var t={};for(var r in e)t[r]=e[r];for(var r in a)t[r]=a[r];return t}function p(e){var a=N(X,"fieldName",e);a>=0&&X.splice(a,1)}function u(e,a){var t=this,r=V(e,t),n=a||Y,i=N(n,"field",e);if(i>=0&&n.splice(i,1),i=N(Y,"field",e),i>=0&&Y.splice(i,1),t.scope.$validationSummary=Y,r&&(r.$validationSummary=$(Y,"formName",r.$name)),W&&W.controllerAs&&(W.controllerAs.$validationSummary=Y,r)){var o=r.$name.indexOf(".")>=0?r.$name.split(".")[1]:r.$name;W.controllerAs[o]&&(W.controllerAs[o].$validationSummary=$(Y,"formName",r.$name))}return Y}function g(e,a){var t;if(/\({1}.*\){1}/gi.test(a))t=e.scope.$eval(a);else{var r=L(e.scope,a,".");"function"==typeof r&&(t=r())}return t}function v(e,a){var t=this;"function"==typeof e.then&&e.then(function(){g(t,a)})}function f(e){W.displayOnlyLastErrorMsg=e}function y(e){var a=this;return W=c(W,e),a}function _(e,a){var r=this;a&&a.obj&&(r=a.obj,r.validatorAttrs=a.obj.attrs);var n=a&&a.elm?a.elm:r.elm,i=n&&n.attr("name")?n.attr("name"):null;if(void 0===i||null===i){throw'Angular-Validation Service requires you to have a (name="") attribute on the element to validate... Your element is: ng-model="'+(n?n.attr("ng-model"):"unknown")+'"'}var o=a&&a.translate?t.instant(e):e;o=o.trim();var s=i.replace(/[|&;$%@"<>()+,\[\]\{\}]/g,"").replace(/\./g,"-"),l=null;if(r.validatorAttrs&&r.validatorAttrs.hasOwnProperty("validationErrorTo")){var d=r.validatorAttrs.validationErrorTo.charAt(0),m="."===d||"#"===d?r.validatorAttrs.validationErrorTo:"#"+r.validatorAttrs.validationErrorTo;l=angular.element(document.querySelector(m))}l&&0!==l.length||(l=angular.element(document.querySelector(".validation-"+s)));var c=!(!a||!a.isSubmitted)&&a.isSubmitted;!W.hideErrorUnderInputs&&a&&!a.isValid&&(c||r.ctrl.$dirty||r.ctrl.$touched||r.ctrl.revalidateCalled)?(l.length>0?l.html(o):n.after('<div class="validation validation-'+s+' text-danger">'+o+"</div>"),r.ctrl.isErrorMessageVisible=!0):(l.html(""),r.ctrl.isErrorMessageVisible=void 0)}function b(e,a){var r,i=this,s=!0,l=!0,d=0,m={message:""};void 0===e&&(e="");for(var c=i.ctrl&&i.ctrl.$name?i.ctrl.$name:i.attrs&&i.attrs.name?i.attrs.name:i.elm.attr("name"),p=o(c),u=i.validatorAttrs.rules||i.validatorAttrs.validation,g=0,v=i.validators.length;g<v;g++){r=i.validators[g],"autoDetect"===r.type&&(r=q(r,e));var f=i.attrs?i.attrs.ngDisabled:i.validatorAttrs.ngDisabled;switch(r.type){case"conditionalDate":s=M(e,r,u);break;case"conditionalNumber":s=C(e,r);break;case"javascript":s=P(e,r,i,p,a,m);break;case"matching":s=H(e,r,i,m);break;case"remote":s=B(e,r,i,p,a,m);break;default:s=G(e,r,u,i)}if((!i.bFieldRequired&&!e&&!J||i.elm.prop("disabled")||i.scope.$eval(f))&&(s=!0),s||(l=!1,function(e,r,n){var o=n.message,s=W.errorMessageSeparator||" ";n.altText&&n.altText.length>0&&(o=n.altText.replace("alt=",""));var d=t(o);e.translatePromise=d,e.validator=n,d.then(function(t){m.message.length>0&&W.displayOnlyLastErrorMsg?m.message=s+(n&&n.params?String.format(t,n.params):t):m.message+=s+(n&&n.params?String.format(t,n.params):t),O(i,e,m.message,l,a)}).catch(function(t){if(!(n.altText&&n.altText.length>0))throw String.format("Could not translate: '{0}'. Please check your Angular-Translate $translateProvider configuration.",t);m.message.length>0&&W.displayOnlyLastErrorMsg?m.message=s+o:m.message+=s+o,O(i,e,m.message,l,a)})}(p,0,r)),s&&d++,i.validRequireHowMany==d&&s){l=!0;break}}return s&&(n(i,""),i.updateErrorMsg("",{isValid:s})),p&&(p.isValid=l,l&&(p.message="")),l}function h(e,a,r,n){var i=a.name?a.name:e.attr("name"),o=V(i,{scope:n}),s=a&&a.friendlyName?t.instant(a.friendlyName):"",l={fieldName:i,friendlyName:s,elm:e,attrs:a,ctrl:r,scope:n,isValid:!1,message:"",formName:o?o.$name:null},d=N(X,"fieldName",e.attr("name"));return d>=0?X[d]=l:X.push(l),X}function O(e,a,t,r,i){t=t.trim(),a&&!0===a.isValidationCancelled&&(t=""),(W.preValidateValidationSummary||void 0===W.preValidateValidationSummary||i)&&n(a,t),(e.validatorAttrs.preValidateFormElements||W.preValidateFormElements)&&(a&&"function"==typeof e.ctrl.$setTouched&&a.ctrl.$setTouched(),!1===e.ctrl.$dirty&&_(t,{isSubmitted:!0,isValid:r,obj:a})),i&&a&&!a.isValid?e.updateErrorMsg(t,{isValid:r,obj:a}):a&&a.isValid&&n(a,"")}function E(e){return e.typingLimit=z,e.validatorAttrs.hasOwnProperty("debounce")?e.typingLimit=parseInt(e.validatorAttrs.debounce,10):e.validatorAttrs.hasOwnProperty("typingLimit")?e.typingLimit=parseInt(e.validatorAttrs.typingLimit,10):W&&W.hasOwnProperty("debounce")&&(e.typingLimit=parseInt(W.debounce,10)),e.validRequireHowMany=e.validatorAttrs.hasOwnProperty("validRequireHowMany")?e.validatorAttrs.validRequireHowMany:W.validRequireHowMany,J=e.validatorAttrs.hasOwnProperty("validateOnEmpty")?w(e.validatorAttrs.validateOnEmpty):W.validateOnEmpty,e}function A(e,a,t){if(e)for(var r=0;r<e.length;r++)if(e[r][a]===t)return e[r];return null}function $(e,a,t){var r=[];if(e)for(var n=0;n<e.length;n++)e[n][a]===t&&r.push(e[n]);return r}function N(e,a,t){if(e)for(var r=0;r<e.length;r++)if(e[r][a]===t)return r;return-1}function I(e,a){var t=e?e.getAttribute("name"):null;return e&&t&&(parentForm=W&&W.controllerAs&&t.indexOf(".")>=0?L(a.scope,t,"."):a.scope[t],parentForm)?(void 0===parentForm.$name&&(parentForm.$name=t),parentForm):null}function V(e,a){if(W&&W.formName){var t=document.querySelector('[name="'+W.formName+'"]');if(t)return t.$name=W.formName,t}for(var r=document.getElementsByName(e),t=null,n=0;n<r.length;n++){var i=r[n].form,o=I(i,a);if(o)return o}if(!i){var s=document.querySelector('[name="'+e+'"]');if(s){var i=s.closest("form"),o=I(i,a);if(o)return o}}if(i){var l=i?i.getAttribute("name"):null;if(l){var d={$name:l,specialNote:"Created by Angular-Validation for Isolated Scope usage"};if(W&&W.controllerAs&&l.indexOf(".")>=0){var m=l.split(".");return a.scope[m[0]][m[1]]=d}return a.scope[l]=d}}return null}function D(e){return!isNaN(parseFloat(e))&&isFinite(e)}function L(e,a,t){for(var r=t?a.split(t):a,n=0,i=r.length;n<i;n++)e[r[n]]&&(e=e[r[n]]);return e}function w(e){return"boolean"==typeof e||"number"==typeof e?!0===e||1===e:"string"!=typeof e||"true"!==(e=e.replace(/^\s+|\s+$/g,"").toLowerCase())&&"1"!==e&&"false"!==e&&"0"!==e?void 0:"true"===e||"1"===e}function S(e,a){var t="",r="-",n=[],i=[],o="",s="",l="";switch(a.toUpperCase()){case"EURO_LONG":case"EURO-LONG":t=e.substring(0,10),r=e.substring(2,3),n=x(t,r),l=n[0],s=n[1],o=n[2],i=e.length>8?e.substring(9).split(":"):null;break;case"UK":case"EURO":case"EURO_SHORT":case"EURO-SHORT":case"EUROPE":t=e.substring(0,8),r=e.substring(2,3),n=x(t,r),l=n[0],s=n[1],o=parseInt(n[2])<50?"20"+n[2]:"19"+n[2],i=e.length>8?e.substring(9).split(":"):null;break;case"US_LONG":case"US-LONG":t=e.substring(0,10),r=e.substring(2,3),n=x(t,r),s=n[0],l=n[1],o=n[2],i=e.length>8?e.substring(9).split(":"):null;break;case"US":case"US_SHORT":case"US-SHORT":t=e.substring(0,8),r=e.substring(2,3),n=x(t,r),s=n[0],l=n[1],o=parseInt(n[2])<50?"20"+n[2]:"19"+n[2],i=e.length>8?e.substring(9).split(":"):null;break;case"ISO":default:t=e.substring(0,10),r=e.substring(4,5),n=x(t,r),o=n[0],s=n[1],l=n[2],i=e.length>10?e.substring(11).split(":"):null}var d=i&&3===i.length?i[0]:0,m=i&&3===i.length?i[1]:0,c=i&&3===i.length?i[2]:0;return new Date(o,s-1,l,d,m,c)}function T(e){e&&(W={displayOnlyLastErrorMsg:!1,errorMessageSeparator:" ",hideErrorUnderInputs:!1,preValidateFormElements:!1,preValidateValidationSummary:!0,isolatedScope:null,scope:null,validateOnEmpty:!1,validRequireHowMany:"all",resetGlobalOptionsOnRouteChange:!0},X=[],Y=[])}function x(e,a){var t=[];switch(a){case"/":t=e.split("/");break;case".":t=e.split(".");break;case"-":default:t=e.split("-")}return t}function j(e,a,t){var r=!1;switch(e){case"<":r=a<t;break;case"<=":r=a<=t;break;case">":r=a>t;break;case">=":r=a>=t;break;case"!=":case"<>":r=a!=t;break;case"!==":r=a!==t;break;case"=":case"==":r=a==t;break;case"===":r=a===t;break;default:r=!1}return r}function R(){Element.prototype.closest=function(e){var a,t=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(a=t.length;--a>=0&&t.item(a)!==r;);}while(a<0&&(r=r.parentElement));return r}}function k(){return this.replace(/^\s+|\s+$/g,"")}function U(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;return this.replace(/{(\d+)}/g,function(a,t){return void 0!==e[t]?e[t]:a})}function F(e){var a=Array.isArray(arguments[1])?arguments[1]:Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,t){return void 0!==a[t]?a[t]:e})}function M(e,a,t){var r=!0,n=r=!1;if(e instanceof Date)n=!0;else{var i=new RegExp(a.pattern,a.patternFlag);n=!((!a.pattern||"/\\S+/"===a.pattern.toString()||t&&"required"===a.pattern)&&null===e)&&i.test(e)}if(n){var o=a.dateType,s=e instanceof Date?e:S(e,o).getTime();if(2==a.params.length){var l=S(a.params[0],o).getTime(),d=S(a.params[1],o).getTime(),m=j(a.condition[0],s,l),c=j(a.condition[1],s,d);r=m&&c}else{var p=S(a.params[0],o).getTime();r=j(a.condition,s,p)}}return r}function C(e,a){var t=!0;if(2==a.params.length){var r=j(a.condition[0],parseFloat(e),parseFloat(a.params[0])),n=j(a.condition[1],parseFloat(e),parseFloat(a.params[1]));t=r&&n}else t=j(a.condition,parseFloat(e),parseFloat(a.params[0]));return t}function P(e,t,r,n,i,o){var s=!0,l="Custom Javascript Validation requires a declared function (in your Controller), please review your code.";if(e||J){var d=t.params[0],m=g(r,d);if("boolean"==typeof m)s=!!m;else{if("object"!=typeof m)throw l;s=!!m.isValid}if(!1===s?(n.isValid=!1,a(function(){var e=o.message+" ";if(m.message&&(e+=m.message||t.altText)," "===e&&t.altText&&(e+=t.altText)," "===e)throw"Custom Javascript Validation requires an error message defined as 'alt=' in your validator or defined in your custom javascript function as { isValid: bool, message: 'your error' }";O(r,n,e,!1,i)})):!0===s&&(n.isValid=!0,O(r,n,"",!0,i)),void 0===m)throw l}return s}function H(e,a,r,n){var i=!0,s=a.params[0],l=r.scope.$eval(s),d=angular.element(document.querySelector('[name="'+s+'"]')),m=a,c=r.ctrl,p=o(r.ctrl.$name);return i=j(a.condition,e,l)&&!!e,d&&d.attr("friendly-name")?a.params[1]=d.attr("friendly-name"):a.params.length>1&&(a.params[1]=a.params[1]),r.scope.$watch(s,function(e,a){var i=j(m.condition,c.$viewValue,e);if(e!==a){if(i)O(r,p,"",!0,!0);else{p.isValid=!1;var o=m.message;m.altText&&m.altText.length>0&&(o=m.altText.replace("alt=","")),t(o).then(function(e){var a=W.errorMessageSeparator||" ";n.message=a+(m&&m.params?String.format(e,m.params):e),O(r,p,n.message,i,!0)})}c.$setValidity("validation",i)}},!0),i}function B(e,a,t,r,n,i){var o=!0,s="Remote Validation requires a declared function (in your Controller) which also needs to return a Promise, please review your code.";if(e&&n||J){t.ctrl.$processing=!0;var l=a.params[0],d=g(t,l);if(K.length>1)for(;K.length>0;){var m=K.pop();"function"==typeof m.abort&&m.abort()}if(K.push(d),!d||"function"!=typeof d.then)throw s;t.ctrl.$setValidity("remote",!1),function(e){d.then(function(a){a=a.data||a,K.pop(),t.ctrl.$processing=!1;var l=i.message+" ";if("boolean"==typeof a)o=!!a;else{if("object"!=typeof a)throw s;o=!!a.isValid}if(!1===o){if(r.isValid=!1," "===(l+=a.message||e))throw"Remote Javascript Validation requires an error message defined as 'alt=' in your validator or defined in your custom remote function as { isValid: bool, message: 'your error' }";O(t,r,l,!1,n)}else!0===o&&(r.isValid=!0,t.ctrl.$setValidity("remote",!0),O(t,r,"",!0,n))})}(a.altText)}return o}function G(e,a,t,r){var n=!0,i=r.attrs?r.attrs.ngDisabled:r.validatorAttrs.ngDisabled;if(r.elm.prop("disabled")||r.scope.$eval(i))n=!0;else if("string"==typeof e&&""===e&&r.elm.prop("type")&&"NUMBER"===r.elm.prop("type").toUpperCase())n=!1;else{var o=new RegExp(a.pattern,a.patternFlag);n=!((!a.pattern||"/\\S+/"===a.pattern.toString()||t&&"required"===a.pattern)&&null===e)&&o.test(e)}return n}function q(e,a){return D(a)?{condition:e.conditionNum,message:e.messageNum,params:e.params,type:"conditionalNumber"}:{pattern:e.patternLength,message:e.messageLength,params:e.params,type:"regex"}}var z=1e3,X=[],W={resetGlobalOptionsOnRouteChange:!0},K=[],Y=[],J=!1;e.$on("$routeChangeStart",function(e,a,t){T(W.resetGlobalOptionsOnRouteChange)}),e.$on("$stateChangeStart",function(e,a,t){T(W.resetGlobalOptionsOnRouteChange)});var Z=function(e,a,t,r){this.bFieldRequired=!1,this.validators=[],this.typingLimit=z,this.scope=e,this.elm=a,this.ctrl=r,this.validatorAttrs=t,this.validateOnEmpty=!1,this.validRequireHowMany="all",e&&e.$validationOptions&&(W=e.$validationOptions),e&&(W.isolatedScope||W.scope)&&(this.scope=W.isolatedScope||W.scope,W=c(e.$validationOptions,W)),void 0===W.resetGlobalOptionsOnRouteChange&&(W.resetGlobalOptionsOnRouteChange=!0),this.elm&&this.validatorAttrs&&this.ctrl&&this.scope&&(h(this.elm,this.validatorAttrs,this.ctrl,this.scope),this.defineValidation())};return Z.prototype.addToValidationSummary=n,Z.prototype.arrayFindObject=A,Z.prototype.defineValidation=i,Z.prototype.getFormElementByName=o,Z.prototype.getFormElements=s,Z.prototype.getGlobalOptions=l,Z.prototype.isFieldRequired=m,Z.prototype.initialize=d,Z.prototype.mergeObjects=c,Z.prototype.parseBool=w,Z.prototype.removeFromValidationSummary=u,Z.prototype.removeFromFormElementObjectList=p,Z.prototype.runValidationCallbackOnPromise=v,Z.prototype.setDisplayOnlyLastErrorMsg=f,Z.prototype.setGlobalOptions=y,Z.prototype.updateErrorMsg=_,Z.prototype.validate=b,window.Element&&!Element.prototype.closest&&(Element.prototype.closest=R),String.prototype.trim=k,String.prototype.format=U,String.format=F,Z}]),angular.module("ghiscoding.validation").factory("ValidationRules",[function(){function e(e){var a=void 0!==e.altText?e.altText.replace("alt=",""):null,t=e.hasOwnProperty("customRegEx")?e.customRegEx:null,r=e.hasOwnProperty("rule")?e.rule:null,n=e.hasOwnProperty("ruleParams")?e.ruleParams:null,i={};switch(r){case"accepted":i={pattern:/^(yes|on|1|true)$/i,message:"INVALID_ACCEPTED",type:"regex"};break;case"alpha":i={pattern:/^([a-z-])+$/i,message:"INVALID_ALPHA",type:"regex"};break;case"alphaSpaces":case"alpha_spaces":i={pattern:/^([a-z-\s])+$/i,message:"INVALID_ALPHA_SPACE",type:"regex"};break;case"alphaNum":case"alpha_num":i={pattern:/^([a-z-0-9])+$/i,message:"INVALID_ALPHA_NUM",type:"regex"};break;case"alphaNumSpaces":case"alpha_num_spaces":i={pattern:/^([a-z-0-9\s])+$/i,message:"INVALID_ALPHA_NUM_SPACE",type:"regex"};break;case"alphaDash":case"alpha_dash":i={pattern:/^([a-z-0-9_-])+$/i,message:"INVALID_ALPHA_DASH",type:"regex"};break;case"alphaDashSpaces":case"alpha_dash_spaces":i={pattern:/^([a-z-0-9\s_-])+$/i,message:"INVALID_ALPHA_DASH_SPACE",type:"regex"};break;case"between":case"range":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between:1,5";i={patternLength:"^(.|[\\r\\n]){"+o[0]+","+o[1]+"}$",messageLength:"INVALID_BETWEEN_CHAR",conditionNum:[">=","<="],messageNum:"INVALID_BETWEEN_NUM",params:[o[0],o[1]],type:"autoDetect"};break;case"betweenLen":case"between_len":case"stringLen":case"string_len":case"stringLength":case"string_length":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_len:1,5";i={pattern:"^(.|[\\r\\n]){"+o[0]+","+o[1]+"}$",message:"INVALID_BETWEEN_CHAR",params:[o[0],o[1]],type:"regex"};break;case"betweenNum":case"between_num":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_num:1,5";i={condition:[">=","<="],message:"INVALID_BETWEEN_NUM",params:[o[0],o[1]],type:"conditionalNumber"};break;case"boolean":i={pattern:/^(true|false|0|1)$/i,message:"INVALID_BOOLEAN",type:"regex"};break;case"checked":i={pattern:/^true$/i,message:"INVALID_CHECKBOX_SELECTED",type:"regex"};break;case"creditCard":case"credit_card":i={pattern:/^3(?:[47]\d([ -]?)\d{4}(?:\1\d{4}){2}|0[0-5]\d{11}|[68]\d{12})$|^4(?:\d\d\d)?([ -]?)\d{4}(?:\2\d{4}){2}$|^6011([ -]?)\d{4}(?:\3\d{4}){2}$|^5[1-5]\d\d([ -]?)\d{4}(?:\4\d{4}){2}$|^2014\d{11}$|^2149\d{11}$|^2131\d{11}$|^1800\d{11}$|^3\d{15}$/,message:"INVALID_CREDIT_CARD",type:"regex"};break;case"custom":case"javascript":i={message:"",params:[n],type:"javascript"};break;case"dateEuro":case"date_euro":i={pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_EURO",type:"regex"};break;case"dateEuroBetween":case"date_euro_between":case"betweenDateEuro":case"between_date_euro":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_euro:01-01-1990,31-12-2015";i={condition:[">=","<="],dateType:"EURO_LONG",params:[o[0],o[1]],pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_EURO_BETWEEN",type:"conditionalDate"};break;case"dateEuroMax":case"date_euro_max":case"maxDateEuro":case"max_date_euro":i={condition:"<=",dateType:"EURO_LONG",params:[n],pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_EURO_MAX",type:"conditionalDate"};break;case"dateEuroMin":case"date_euro_min":case"minDateEuro":case"min_date_euro":i={condition:">=",dateType:"EURO_LONG",params:[n],pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_EURO_MIN",type:"conditionalDate"};break;case"dateEuroLong":case"date_euro_long":i={pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{4})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_EURO_LONG",type:"regex"};break;case"dateEuroLongBetween":case"date_euro_long_between":case"betweenDateEuroLong":case"between_date_euro_long":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_euro_long:01-01-1990,31-12-2015";i={condition:[">=","<="],dateType:"EURO_LONG",params:[o[0],o[1]],pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{4})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_EURO_LONG_BETWEEN",type:"conditionalDate"};break;case"dateEuroLongMax":case"date_euro_long_max":case"maxDateEuroLong":case"max_date_euro_long":i={condition:"<=",dateType:"EURO_LONG",params:[n],pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{4})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_EURO_LONG_MAX",type:"conditionalDate"};break;case"dateEuroLongMin":case"date_euro_long_min":case"minDateEuroLong":case"min_date_euro_long":i={condition:">=",dateType:"EURO_LONG",params:[n],pattern:/^(?:(?:31(\/|-|\.)(?:0[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{4})$|^(?:29(\/|-|\.)02\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_EURO_LONG_MIN",type:"conditionalDate"};break;case"dateEuroShort":case"date_euro_short":i={pattern:/^(0[1-9]|[12][0-9]|3[01])[-\/\.](0[1-9]|1[012])[-\/\.]\d\d$/,message:"INVALID_DATE_EURO_SHORT",type:"regex"};break;case"dateEuroShortBetween":case"date_euro_short_between":case"betweenDateEuroShort":case"between_date_euro_short":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_euro_short:01-01-90,31-12-15";i={condition:[">=","<="],dateType:"EURO_SHORT",params:[o[0],o[1]],pattern:/^(0[1-9]|[12][0-9]|3[01])[-\/\.](0[1-9]|1[012])[-\/\.]\d\d$/,message:"INVALID_DATE_EURO_SHORT_BETWEEN",type:"conditionalDate"};break;case"dateEuroShortMax":case"date_euro_short_max":case"maxDateEuroShort":case"max_date_euro_short":i={condition:"<=",dateType:"EURO_SHORT",params:[n],pattern:/^(0[1-9]|[12][0-9]|3[01])[-\/\.](0[1-9]|1[012])[-\/\.]\d\d$/,message:"INVALID_DATE_EURO_SHORT_MAX",type:"conditionalDate"};break;case"dateEuroShortMin":case"date_euro_short_min":case"minDateEuroShort":case"min_date_euro_short":i={condition:">=",dateType:"EURO_SHORT",params:[n],pattern:/^(0[1-9]|[12][0-9]|3[01])[-\/\.](0[1-9]|1[012])[-\/\.]\d\d$/,message:"INVALID_DATE_EURO_SHORT_MIN",type:"conditionalDate"};break;case"dateIso":case"date_iso":i={pattern:/^(?=\d)(?:(?!(?:1582(?:\-)10(?:\-)(?:0?[5-9]|1[0-4]))|(?:1752(?:\-)0?9(?:\-)(?:0?[3-9]|1[0-3])))(?=(?:(?!000[04]|(?:(?:1[^0-6]|[2468][^048]|[3579][^26])00))(?:(?:\d\d)(?:[02468][048]|[13579][26]))\D0?2\D29)|(?:\d{4}\D(?!(?:0?[2469]|11)\D31)(?!0?2(?:\-)(?:29|30))))(\d{4})(\-)(0{1}\d|1[012])\2((?!00)[012]{1}\d|3[01])(?:$|(?=\d)))?((?:(?:0?[1-9]|1[012])(?::[0-5]\d){0,2})|(?:[01]\d|2[0-3])(?::[0-5]\d){2})?$/,message:"INVALID_DATE_ISO",type:"regex"};break;case"dateIsoBetween":case"date_iso_between":case"betweenDateIso":case"between_date_iso":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_iso:1990-01-01,2000-12-31";i={condition:[">=","<="],dateType:"ISO",params:[o[0],o[1]],pattern:/^(?=\d)(?:(?!(?:1582(?:\-)10(?:\-)(?:0?[5-9]|1[0-4]))|(?:1752(?:\-)0?9(?:\-)(?:0?[3-9]|1[0-3])))(?=(?:(?!000[04]|(?:(?:1[^0-6]|[2468][^048]|[3579][^26])00))(?:(?:\d\d)(?:[02468][048]|[13579][26]))\D0?2\D29)|(?:\d{4}\D(?!(?:0?[2469]|11)\D31)(?!0?2(?:\-)(?:29|30))))(\d{4})(\-)(0{1}\d|1[012])\2((?!00)[012]{1}\d|3[01])(?:$|(?=\d)))?((?:(?:0?[1-9]|1[012])(?::[0-5]\d){0,2})|(?:[01]\d|2[0-3])(?::[0-5]\d){2})?$/,message:"INVALID_DATE_ISO_BETWEEN",type:"conditionalDate"};break;case"dateIsoMax":case"date_iso_max":case"maxDateIso":case"max_date_iso":i={condition:"<=",dateType:"ISO",params:[n],pattern:/^(?=\d)(?:(?!(?:1582(?:\-)10(?:\-)(?:0?[5-9]|1[0-4]))|(?:1752(?:\-)0?9(?:\-)(?:0?[3-9]|1[0-3])))(?=(?:(?!000[04]|(?:(?:1[^0-6]|[2468][^048]|[3579][^26])00))(?:(?:\d\d)(?:[02468][048]|[13579][26]))\D0?2\D29)|(?:\d{4}\D(?!(?:0?[2469]|11)\D31)(?!0?2(?:\-)(?:29|30))))(\d{4})(\-)(0{1}\d|1[012])\2((?!00)[012]{1}\d|3[01])(?:$|(?=\d)))?((?:(?:0?[1-9]|1[012])(?::[0-5]\d){0,2})|(?:[01]\d|2[0-3])(?::[0-5]\d){2})?$/,message:"INVALID_DATE_ISO_MAX",type:"conditionalDate"};break;case"dateIsoMin":case"date_iso_min":case"minDateIso":case"min_date_iso":i={condition:">=",dateType:"ISO",params:[n],pattern:/^(?=\d)(?:(?!(?:1582(?:\-)10(?:\-)(?:0?[5-9]|1[0-4]))|(?:1752(?:\-)0?9(?:\-)(?:0?[3-9]|1[0-3])))(?=(?:(?!000[04]|(?:(?:1[^0-6]|[2468][^048]|[3579][^26])00))(?:(?:\d\d)(?:[02468][048]|[13579][26]))\D0?2\D29)|(?:\d{4}\D(?!(?:0?[2469]|11)\D31)(?!0?2(?:\-)(?:29|30))))(\d{4})(\-)(0{1}\d|1[012])\2((?!00)[012]{1}\d|3[01])(?:$|(?=\d)))?((?:(?:0?[1-9]|1[012])(?::[0-5]\d){0,2})|(?:[01]\d|2[0-3])(?::[0-5]\d){2})?$/,message:"INVALID_DATE_ISO_MIN",type:"conditionalDate"};break;case"dateUs":case"date_us":i={pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_US",type:"regex"};break;case"dateUsBetween":case"date_us_between":case"betweenDateUs":case"between_date_us":var o=n.split(",")
;if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_us:01/01/1990,12/31/2015";i={condition:[">=","<="],dateType:"US_LONG",params:[o[0],o[1]],pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_US_BETWEEN",type:"conditionalDate"};break;case"dateUsMax":case"date_us_max":case"maxDateUs":case"max_date_us":i={condition:"<=",dateType:"US_LONG",params:[n],pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_US_MAX",type:"conditionalDate"};break;case"dateUsMin":case"date_us_min":case"minDateUs":case"min_date_us":i={condition:">=",dateType:"US_LONG",params:[n],pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])?00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,message:"INVALID_DATE_US_MIN",type:"conditionalDate"};break;case"dateUsLong":case"date_us_long":i={pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_US_LONG",type:"regex"};break;case"dateUsLongBetween":case"date_us_long_between":case"betweenDateUsLong":case"between_date_us_long":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_us_long:01/01/1990,12/31/2015";i={condition:[">=","<="],dateType:"US_LONG",params:[o[0],o[1]],pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_US_LONG_BETWEEN",type:"conditionalDate"};break;case"dateUsLongMax":case"date_us_long_max":case"maxDateUsLong":case"max_date_us_long":i={condition:"<=",dateType:"US_LONG",params:[n],pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_US_LONG_MAX",type:"conditionalDate"};break;case"dateUsLongMin":case"date_us_long_min":case"minDateUsLong":case"min_date_us_long":i={condition:">=",dateType:"US_LONG",params:[n],pattern:/^(?:(?:(?:0[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0[1-9])|(?:1[0-2]))(\/|-|\.)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,message:"INVALID_DATE_US_LONG_MIN",type:"conditionalDate"};break;case"dateUsShort":case"date_us_short":i={pattern:/^(0[1-9]|1[012])[-\/\.](0[1-9]|[12][0-9]|3[01])[-\/\.]\d\d$/,message:"INVALID_DATE_US_SHORT",type:"regex"};break;case"dateUsShortBetween":case"date_us_short_between":case"betweenDateUsShort":case"between_date_us_short":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_us_short:01/01/90,12/31/15";i={condition:[">=","<="],dateType:"US_SHORT",params:[o[0],o[1]],pattern:/^(0[1-9]|1[012])[-\/\.](0[1-9]|[12][0-9]|3[01])[-\/\.]\d\d$/,message:"INVALID_DATE_US_SHORT_BETWEEN",type:"conditionalDate"};break;case"dateUsShortMax":case"date_us_short_max":case"maxDateUsShort":case"max_date_us_short":i={condition:"<=",dateType:"US_SHORT",params:[n],pattern:/^(0[1-9]|1[012])[-\/\.](0[1-9]|[12][0-9]|3[01])[-\/\.]\d\d$/,message:"INVALID_DATE_US_SHORT_MAX",type:"conditionalDate"};break;case"dateUsShortMin":case"date_us_short_min":case"minDateUsShort":case"min_date_us_short":i={condition:">=",dateType:"US_SHORT",params:[n],pattern:/^(0[1-9]|1[012])[-\/\.](0[1-9]|[12][0-9]|3[01])[-\/\.]\d\d$/,message:"INVALID_DATE_US_SHORT_MIN",type:"conditionalDate"};break;case"different":case"differentInput":case"different_input":var e=n.split(",");i={condition:"!=",message:"INVALID_INPUT_DIFFERENT",params:e,type:"matching"};break;case"digits":i={pattern:"^\\d{"+n+"}$",message:"INVALID_DIGITS",params:[n],type:"regex"};break;case"digitsBetween":case"digits_between":var o=n.split(",");if(2!==o.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: digits_between:1,5";i={pattern:"^\\d{"+o[0]+","+o[1]+"}$",message:"INVALID_DIGITS_BETWEEN",params:[o[0],o[1]],type:"regex"};break;case"email":case"emailAddress":case"email_address":i={pattern:/^[-\w-0-9#~!$%^&*_=+\/`\|}{\'?]+(\.[-\w-0-9#~!$%^&*_=+\/`\|}{\'?]+)*@([\w-0-9_][-\w-0-9_]*(\.[-\w-0-9_]+)*([\w-]+)|(\.[\w-]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,message:"INVALID_EMAIL",type:"regex"};break;case"exactLen":case"exact_len":i={pattern:"^(.|[\\r\\n]){"+n+"}$",message:"INVALID_EXACT_LEN",params:[n],type:"regex"};break;case"float":i={pattern:/^\d*\.{1}\d+$/,message:"INVALID_FLOAT",type:"regex"};break;case"floatSigned":case"float_signed":i={pattern:/^[-+]?\d*\.{1}\d+$/,message:"INVALID_FLOAT_SIGNED",type:"regex"};break;case"iban":i={pattern:/^[a-zA-Z]{2}\d{2}\s?([0-9a-zA-Z]{4}\s?){4}[0-9a-zA-Z]{2}$/i,message:"INVALID_IBAN",type:"regex"};break;case"enum":case"in":case"inList":case"in_list":var s=RegExp().escape(n).replace(/,/g,"|");i={pattern:"^("+s+")$",patternFlag:"i",message:"INVALID_IN_LIST",params:[n],type:"regex"};break;case"int":case"integer":i={pattern:/^\d+$/,message:"INVALID_INTEGER",type:"regex"};break;case"intSigned":case"integerSigned":case"int_signed":case"integer_signed":i={pattern:/^[+-]?\d+$/,message:"INVALID_INTEGER_SIGNED",type:"regex"};break;case"ip":case"ipv4":i={pattern:/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}$/,message:"INVALID_IPV4",type:"regex"};break;case"ipv6":i={pattern:/^(::|(([a-fA-F0-9]{1,4}):){7}(([a-fA-F0-9]{1,4}))|(:(:([a-fA-F0-9]{1,4})){1,6})|((([a-fA-F0-9]{1,4}):){1,6}:)|((([a-fA-F0-9]{1,4}):)(:([a-fA-F0-9]{1,4})){1,6})|((([a-fA-F0-9]{1,4}):){2}(:([a-fA-F0-9]{1,4})){1,5})|((([a-fA-F0-9]{1,4}):){3}(:([a-fA-F0-9]{1,4})){1,4})|((([a-fA-F0-9]{1,4}):){4}(:([a-fA-F0-9]{1,4})){1,3})|((([a-fA-F0-9]{1,4}):){5}(:([a-fA-F0-9]{1,4})){1,2}))$/i,message:"INVALID_IPV6",type:"regex"};break;case"compare":case"match":case"matchInput":case"match_input":case"same":var e=n.split(",");i={condition:"===",message:"INVALID_INPUT_MATCH",params:e,type:"matching"};break;case"max":i={patternLength:"^(.|[\\r\\n]){0,"+n+"}$",messageLength:"INVALID_MAX_CHAR",conditionNum:"<=",messageNum:"INVALID_MAX_NUM",params:[n],type:"autoDetect"};break;case"maxLen":case"max_len":case"maxLength":case"max_length":i={pattern:"^(.|[\\r\\n]){0,"+n+"}$",message:"INVALID_MAX_CHAR",params:[n],type:"regex"};break;case"maxNum":case"max_num":i={condition:"<=",message:"INVALID_MAX_NUM",params:[n],type:"conditionalNumber"};break;case"min":i={patternLength:"^(.|[\\r\\n]){"+n+",}$",messageLength:"INVALID_MIN_CHAR",conditionNum:">=",messageNum:"INVALID_MIN_NUM",params:[n],type:"autoDetect"};break;case"minLen":case"min_len":case"minLength":case"min_length":i={pattern:"^(.|[\\r\\n]){"+n+",}$",message:"INVALID_MIN_CHAR",params:[n],type:"regex"};break;case"minNum":case"min_num":i={condition:">=",message:"INVALID_MIN_NUM",params:[n],type:"conditionalNumber"};break;case"notIn":case"not_in":case"notInList":case"not_in_list":var s=RegExp().escape(n).replace(/,/g,"|");i={pattern:"^((?!("+s+")).)+$",patternFlag:"i",message:"INVALID_NOT_IN_LIST",params:[n],type:"regex"};break;case"numeric":i={pattern:/^\d*\.?\d+$/,message:"INVALID_NUMERIC",type:"regex"};break;case"numericSigned":case"numeric_signed":i={pattern:/^[-+]?\d*\.?\d+$/,message:"INVALID_NUMERIC_SIGNED",type:"regex"};break;case"phone":i={pattern:/^([0-9]( |[-.])?)?((\(\d{3}\) ?)|(\d{3}[-.]))?\d{3}[-.]\d{4}$/,message:"INVALID_PHONE_US",type:"regex"};break;case"phoneInternational":case"phone_international":i={pattern:/^\+(?:[0-9]\x20?){6,14}[0-9]$/,message:"INVALID_PHONE_INTERNATIONAL",type:"regex"};break;case"pattern":case"regex":i={pattern:t.pattern,message:"INVALID_PATTERN",params:[t.message],type:"regex"};break;case"remote":i={message:"",params:[n],type:"remote"};break;case"required":i={pattern:/\S+/,message:"INVALID_REQUIRED",type:"regex"};break;case"size":i={patternLength:"^(.|[\\r\\n]){"+n+"}$",messageLength:"INVALID_EXACT_LEN",conditionNum:"==",messageNum:"INVALID_EXACT_NUM",params:[n],type:"autoDetect"};break;case"url":i={pattern:/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i,message:"INVALID_URL",type:"regex"};break;case"time":i={pattern:/^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$/,message:"INVALID_TIME",type:"regex"}}return i.altText=a,i}return{getElementValidators:e}}]),RegExp.prototype.escape=function(e){if(!arguments.callee.sRE){var a=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+a.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},angular.module("ghiscoding.validation").service("ValidationService",["$interpolate","$q","$timeout","ValidationCommon",function(e,a,t,r){function n(a,t,r){var n=this,i={};if("string"==typeof a&&"string"==typeof t?(i.elmName=a,i.rules=t,i.friendlyName="string"==typeof r?r:""):i=a,"object"!=typeof i||!i.hasOwnProperty("elmName")||!i.hasOwnProperty("rules")||!i.hasOwnProperty("scope")&&void 0===n.validationAttrs.scope)throw"Angular-Validation-Service requires at least the following 3 attributes: {elmName, rules, scope}";var o=i.scope?i.scope:n.validationAttrs.scope;if(i.elm=angular.element(document.querySelector('[name="'+i.elmName+'"]')),"object"!=typeof i.elm||0===i.elm.length)return n;if(new RegExp("{{(.*?)}}").test(i.elmName)&&(i.elmName=e(i.elmName)(o)),i.name=i.elmName,n.validationAttrs.isolatedScope){var s=o.$validationOptions||null;o=n.validationAttrs.isolatedScope,s&&(o.$validationOptions=s)}return O=n.validationAttrs.hasOwnProperty("validationCallback")?n.validationAttrs.validationCallback:null,h=n.validationAttrs.hasOwnProperty("validateOnEmpty")?commonObj.parseBool(n.validationAttrs.validateOnEmpty):!!E.validateOnEmpty,i.elm.bind("blur",b=function(e){var a=n.commonObj.getFormElementByName(i.elmName);if(a&&!a.isValidationCancelled){n.commonObj.initialize(o,i.elm,i,i.ctrl);var t=c(n,e.target.value,0);O&&n.commonObj.runValidationCallbackOnPromise(t,O)}}),i=n.commonObj.mergeObjects(n.validationAttrs,i),_(n,o,i),i.elm.on("$destroy",function(){var e=n.commonObj.getFormElementByName(n.commonObj.ctrl.$name);e&&(p(n,e),n.commonObj.removeFromValidationSummary(i.name))}),A.push({elmName:i.elmName,watcherHandler:u(o,i,n)}),n}function i(e){var a=this,t="",r=!0;if(e.$error.validation)for(var n=0,i=e.$error.validation.length;n<i;n++)if(r=!1,t=e.$error.validation[n].$name){var o=a.commonObj.getFormElementByName(t);if(o&&o.elm&&o.elm.length>0){"function"==typeof o.ctrl.$setTouched&&o.ctrl.$setTouched();var s=o.translatePromise.$$state.value;o.validator.params&&1==o.validator.params.length&&(s=s.replace("{0}",o.validator.params[0])),a.commonObj.updateErrorMsg(s,{isSubmitted:!0,isValid:o.isValid,obj:o})}}return r}function o(e){var a=this;if(void 0===e||void 0===e.$validationSummary)throw"clearInvalidValidatorsInSummary() requires a valid Angular Form or $scope/vm object passed as argument to work properly, for example:: fn($scope) OR fn($scope.form1) OR fn(vm) OR fn(vm.form1)";for(var t=[],r=0,n=e.$validationSummary.length;r<n;r++)t.push(e.$validationSummary[r].field);for(r=0,n=t.length;r<n;r++)t[r]&&(a.commonObj.removeFromFormElementObjectList(t[r]),a.commonObj.removeFromValidationSummary(t[r],e.$validationSummary))}function s(e,a){var t,r=this;if(void 0===e||void 0===e.$validationSummary)throw"removeValidator() only works with Validation that were defined by the Service (not by the Directive) and requires a valid Angular Form or $scope/vm object passed as argument to work properly, for example:: fn($scope) OR fn($scope.form1) OR fn(vm) OR fn(vm.form1)";if(a instanceof Array)for(var n=0,i=a.length;n<i;n++)t=r.commonObj.getFormElementByName(a[n]),t.elm.removeAttr("validation"),f(r,t,e.$validationSummary);else a instanceof Object&&a.formElmObj?(t=a.formElmObj,t.elm.removeAttr("validation"),f(a.self,t,e.$validationSummary)):(t=r.commonObj.getFormElementByName(a),t.elm.removeAttr("validation"),f(r,t,e.$validationSummary));return r}function l(e,a){var t,r=this,a=a||{},n=void 0!==a.removeAllValidators&&a.removeAllValidators,i=void 0!==a.emptyAllInputValues&&a.emptyAllInputValues;if(void 0===e||void 0===e.$name)throw"resetForm() requires a valid Angular Form object passed as argument to work properly (ex.: $scope.form1).";var o=r.commonObj.getFormElements(e.$name);if(o instanceof Array)for(var l=0,d=o.length;l<d;l++)t=o[l],i&&t.elm.val(null),n?s(e,{self:r,formElmObj:t}):("function"==typeof t.ctrl.$setUntouched&&t.ctrl.$setUntouched(),t.ctrl.$setPristine(),r.commonObj.updateErrorMsg("",{isValid:!1,obj:t}))}function d(e){var a=this,t="boolean"!=typeof e||e;a.commonObj.setDisplayOnlyLastErrorMsg(t)}function m(e){var a=this;return a.validationAttrs=e,a.commonObj.setGlobalOptions(e),a}function c(e,r,n){var i=a.defer(),o=!1,s=void 0!==n?n:e.commonObj.typingLimit,l=e.commonObj.getFormElementByName(e.commonObj.ctrl.$name);return r&&r.badInput?g(e,attrs.name):(e.commonObj.validate(r,!1),e.commonObj.isFieldRequired()||h||""!==r&&null!==r&&void 0!==r?(l.isValidationCancelled=!1,(r||e.commonObj.isFieldRequired()||h)&&e.commonObj.ctrl.$setValidity("validation",!1),""!==r&&void 0!==r||"NUMBER"!==e.commonObj.elm.prop("type").toUpperCase()?"SELECT"===e.commonObj.elm.prop("tagName").toUpperCase()?(o=e.commonObj.validate(r,!0),e.commonObj.ctrl.$setValidity("validation",o),i.resolve({isFieldValid:o,formElmObj:l,value:r}),i.promise):(void 0!==r&&(0===n?(o=e.commonObj.validate(r,!0),e.commonObj.scope.$evalAsync(e.commonObj.ctrl.$setValidity("validation",o)),i.resolve({isFieldValid:o,formElmObj:l,value:r}),t.cancel(e.timer)):(e.commonObj.updateErrorMsg(""),t.cancel(e.timer),e.timer=t(function(){o=e.commonObj.validate(r,!0),e.commonObj.scope.$evalAsync(e.commonObj.ctrl.$setValidity("validation",o)),i.resolve({isFieldValid:o,formElmObj:l,value:r})},s))),i.promise):(t.cancel(e.timer),o=e.commonObj.validate(r,!0),i.resolve({isFieldValid:o,formElmObj:l,value:r}),i.promise)):(p(e,l),i.resolve({isFieldValid:!0,formElmObj:l,value:r}),i.promise))}function p(e,a){var r=a&&a.ctrl?a.ctrl:e.commonObj.ctrl;a&&(a.isValidationCancelled=!0),t.cancel(self.timer),r.$setValidity("validation",!0),e.commonObj.updateErrorMsg("",{isValid:!0,obj:a}),y(e,a)}function u(e,a,r){return e.$watch(function(){return a.ctrl=angular.element(a.elm).controller("ngModel"),v(r,a.elmName)?{badInput:!0}:a.ctrl.$modelValue},function(n,i){if(n&&n.badInput){var o=r.commonObj.getFormElementByName(a.elmName);return y(r,o),g(r,a.name)}if(void 0===n&&void 0!==i&&!isNaN(i))return t.cancel(r.timer),void r.commonObj.ctrl.$setValidity("validation",r.commonObj.validate("",!0));a.ctrl=angular.element(a.elm).controller("ngModel"),a.value=n,r.commonObj.initialize(e,a.elm,a,a.ctrl);var s=void 0===n||"number"==typeof n&&isNaN(n)?0:void 0,l=c(r,n,s);O&&r.commonObj.runValidationCallbackOnPromise(l,O)},!0)}function g(e,a){t.cancel(e.timer);var r=e.commonObj.getFormElementByName(a);e.commonObj.updateErrorMsg("INVALID_KEY_CHAR",{isValid:!1,translate:!0,obj:r}),e.commonObj.addToValidationSummary(r,"INVALID_KEY_CHAR",!0)}function v(e,a){var t=e.commonObj.getFormElementByName(a);return!!t&&!!t.elm.prop("validity")&&!0===t.elm.prop("validity").badInput}function f(e,a,t){var r=e.commonObj.scope?e.commonObj.scope:a.scope?a.scope:null;if(void 0===r)throw"removeValidator() requires a valid $scope object passed but unfortunately could not find it.";var n=e.commonObj.arrayFindObject(A,"elmName",a.fieldName);n&&(n.watcherHandler(),A.shift()),a.isValidationCancelled=!0,a.isValid=!0,a.attrs.validation="",p(e,a),"function"==typeof a.ctrl.$setUntouched&&a.ctrl.$setUntouched(),e.commonObj.scope=r,a.ctrl.$setPristine(),e.commonObj.removeFromValidationSummary(a.fieldName,t)}function y(e,a){if(a.isValidationCancelled=!0,"function"==typeof b){(a&&a.elm?a.elm:e.commonObj.elm).unbind("blur",b)}}function _(e,a,r){a.$watch(function(){return void 0===r.elm.attr("ng-disabled")?null:a.$eval(r.elm.attr("ng-disabled"))},function(n){if(void 0===n||null===n)return null;r.ctrl=angular.element(r.elm).controller("ngModel"),e.commonObj.initialize(a,r.elm,r,r.ctrl);var i=e.commonObj.getFormElementByName(r.name);t(function(){if(n)r.ctrl.$setValidity("validation",!0),e.commonObj.updateErrorMsg("",{isValid:!0,obj:i}),e.commonObj.removeFromValidationSummary(r.name);else{var t=r.ctrl.$viewValue||"";e.commonObj.initialize(a,r.elm,r,r.ctrl),r.ctrl.$setValidity("validation",e.commonObj.validate(t,!1)),i&&(i.isValidationCancelled=!1),r.elm.bind("blur",b=function(a){if(i&&!i.isValidationCancelled){var t=c(e,a.target.value,10);O&&e.commonObj.runValidationCallbackOnPromise(t,O)}})}},0,!1),n&&("function"==typeof r.ctrl.$setUntouched&&r.ctrl.$setUntouched(),r.ctrl.$setValidity("validation",!0),e.commonObj.removeFromValidationSummary(r.name))})}var b,h,O,E,A=[],$=function(e){this.isValidationCancelled=!1,this.timer=null,this.validationAttrs={},this.commonObj=new r,e&&this.setGlobalOptions(e),E=this.commonObj.getGlobalOptions()};return $.prototype.addValidator=n,$.prototype.checkFormValidity=i,$.prototype.removeValidator=s,$.prototype.resetForm=l,$.prototype.setDisplayOnlyLastErrorMsg=d,$.prototype.setGlobalOptions=m,$.prototype.clearInvalidValidatorsInSummary=o,$}]);